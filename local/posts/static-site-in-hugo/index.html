<!DOCTYPE html>
<!-- `site.alt_lang` can specify a language different from the UI --><html lang="pl">
  <!-- The Head -->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover">

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2">
<meta property="og:title" content="Jak założyć i utrzymywać statyczny serwis WWW wykorzystując Docker’a, Code i Hugo">
<meta name="author" content="Piotr Zawadzki">
<meta property="og:locale" content="pl">
<meta name="description" content="W poradniku pokazano jak wykorzystać konteneryzację i wsparcie dla niej w Visual Studio Code do realizacji statycznego serwisu WWW. Opis obejmuje wykorzystanie kontenerów do stworzenia hermetycznego i przenośnego środowiska pracy oraz hosting lokalny i z użyciem GitHub. Przedstawiona metoda lokalnego hostingu umożliwia dostęp do serwisu za pomocą bezpiecznego protokołu HTTPS i umożliwia korzystanie z usług dynamicznego rozwiązywania nazw gdy adres IP zrealizowanego serwera jest zmienny.">
<meta property="og:description" content="W poradniku pokazano jak wykorzystać konteneryzację i wsparcie dla niej w Visual Studio Code do realizacji statycznego serwisu WWW. Opis obejmuje wykorzystanie kontenerów do stworzenia hermetycznego i przenośnego środowiska pracy oraz hosting lokalny i z użyciem GitHub. Przedstawiona metoda lokalnego hostingu umożliwia dostęp do serwisu za pomocą bezpiecznego protokołu HTTPS i umożliwia korzystanie z usług dynamicznego rozwiązywania nazw gdy adres IP zrealizowanego serwera jest zmienny.">
<link rel="canonical" href="https://mikroprofesor.duckdns.org/posts/static-site-in-hugo/">
<meta property="og:url" content="https://mikroprofesor.duckdns.org/posts/static-site-in-hugo/">
<meta property="og:site_name" content="Net i Dev Blog">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-08-05T12:06:43+02:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Jak założyć i utrzymywać statyczny serwis WWW wykorzystując Docker’a, Code i Hugo">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Piotr Zawadzki"},"dateModified":"2023-08-05T12:06:43+02:00","datePublished":"2023-08-05T12:06:43+02:00","description":"W poradniku pokazano jak wykorzystać konteneryzację i wsparcie dla niej w Visual Studio Code do realizacji statycznego serwisu WWW. Opis obejmuje wykorzystanie kontenerów do stworzenia hermetycznego i przenośnego środowiska pracy oraz hosting lokalny i z użyciem GitHub. Przedstawiona metoda lokalnego hostingu umożliwia dostęp do serwisu za pomocą bezpiecznego protokołu HTTPS i umożliwia korzystanie z usług dynamicznego rozwiązywania nazw gdy adres IP zrealizowanego serwera jest zmienny.","headline":"Jak założyć i utrzymywać statyczny serwis WWW wykorzystując Docker’a, Code i Hugo","mainEntityOfPage":{"@type":"WebPage","@id":"https://mikroprofesor.duckdns.org/posts/static-site-in-hugo/"},"url":"https://mikroprofesor.duckdns.org/posts/static-site-in-hugo/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>Jak założyć i utrzymywać statyczny serwis WWW wykorzystując Docker'a, Code i Hugo | Net i Dev Blog
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Net i Dev Blog">
<meta name="application-name" content="Net i Dev Blog">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net">
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&amp;display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/style.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle">
      
        
        <img src="/assets/img/myavatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
      
    </a>

    <div class="site-title">
      <a href="/">Net i Dev Blog</a>
    </div>
    <div class="site-subtitle fst-italic">Spisano ku pamięci i na pożytek</div>
  </div>
  <!-- .profile-wrapper -->

  <ul class="nav flex-column flex-grow-1 w-100 ps-0">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home"></i>
        <span>STRONA GŁÓWNA</span>
      </a>
    </li>
    <!-- the real tabs -->
    
      <li class="nav-item">
        <a href="/categories/" class="nav-link">
          <i class="fa-fw fas fa-stream"></i>
          

          <span>KATEGORIE</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/tags/" class="nav-link">
          <i class="fa-fw fas fa-tags"></i>
          

          <span>ZNACZNIKI</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/archives/" class="nav-link">
          <i class="fa-fw fas fa-archive"></i>
          

          <span>ARCHIWUM</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/about/" class="nav-link">
          <i class="fa-fw fas fa-info-circle"></i>
          

          <span>O STRONIE</span>
        </a>
      </li>
      <!-- .nav-item -->
    
  </ul>
  <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a href="https://github.com/pejotzet" aria-label="github" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-twitter"></i>
        </a>
      
    
      

      
        <a href="javascript:location.href%20=%20'mailto:'%20+%20['Zawadzki.Piotrus','gmail.com'].join('@')" aria-label="email">
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a href="/feed.xml" aria-label="rss">
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</div>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div id="main" class="container px-xxl-5">
        <!-- The Top Bar -->

<div id="topbar-wrapper">
  <div id="topbar" class="container d-flex align-items-center justify-content-between h-100">
    <span id="breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                Strona główna
              </a>
            </span>

          
        
          
        
          
            
              <span>Jak założyć i utrzymywać statyczny serwis WWW wykorzystując Docker'a, Code i Hugo</span>
            

          
        
      
    </span>
    <!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search...">
    </span>
    <span id="search-cancel">Cancel</span>
  </div>
</div>

        











<div class="row">
  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4">
    

    <div class="post px-1 px-md-2">
      

      
        
      
        <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->


<!-- images -->



  
  

  <!-- CDN URL -->
  

  <!-- Add image path -->
  

  
    
      
      
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  

  



<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  

  
  

  




<!-- return -->




<h1 data-toc-skip>Jak założyć i utrzymywać statyczny serwis WWW wykorzystując Docker'a, Code i Hugo</h1>

<div class="post-meta text-muted">
    <!-- published date -->
    <span>
      Opublikowano
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="" data-ts="1691230003" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom">
  Aug  5, 2023
</em>

    </span>

    <!-- lastmod date -->
    

  

  <div class="d-flex justify-content-between">
    <!-- author(s) -->
    <span>
      

      

      <em>
      
        
          <a href=""></a>
          
        
      
      </em>
    </span>

    <div>
      <!-- read time -->
      <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3928 słów">
  <em>21 min</em> czytania</span>

    </div>

  </div> <!-- .d-flex -->

</div> <!-- .post-meta -->

<div class="post-content">
  <p>W poradniku pokazano jak wykorzystać konteneryzację i wsparcie dla niej w <code class="language-plaintext highlighter-rouge">Visual Studio Code</code> do realizacji statycznego serwisu WWW.
Opis obejmuje wykorzystanie kontenerów do stworzenia hermetycznego i przenośnego środowiska pracy
oraz hosting lokalny i z użyciem <code class="language-plaintext highlighter-rouge">GitHub</code>.
Przedstawiona metoda lokalnego hostingu umożliwia dostęp do serwisu za pomocą bezpiecznego protokołu <code class="language-plaintext highlighter-rouge">HTTPS</code> i umożliwia korzystanie z usług dynamicznego rozwiązywania nazw gdy adres <code class="language-plaintext highlighter-rouge">IP</code> zrealizowanego serwera jest zmienny.</p>

<h2 id="czynności-wstępne">
<span class="me-2">Czynności wstępne</span><a href="#czynno%C5%9Bci-wst%C4%99pne" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h2>

<p>Praktyczna realizacja porad wymaga zainstalowania <a href="https://git-scm.com/">Git</a>, <a href="https://www.docker.com/">Docker</a>‘a w wersji desktop lub serwer i <a href="https://code.visualstudio.com/">Code</a> oraz posiadania kont na <a href="https://github.com"><code class="language-plaintext highlighter-rouge">GitHub</code></a> i opcjonalnie <a href="https://ducnkdns.org"><code class="language-plaintext highlighter-rouge">DuckDNS</code></a>.</p>

<h3 id="przygotowanie-folderu-projektu">
<span class="me-2">Przygotowanie folderu projektu</span><a href="#przygotowanie-folderu-projektu" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h3>

<ol>
  <li>Utwórz puste repozytorium <a href="https://github.com">GitHub</a>.</li>
</ol>

<p>Repozytorium będzie wykorzystywane do przechowywania plików generatora <a href="https://gohugo.io/"><code class="language-plaintext highlighter-rouge">Hugo</code></a> oraz plików źródłowych.
Jeżeli konto <a href="https://github.com">GitHub</a> ma być wykorzystywane również do publikacji gotowego serwisu oraz automatycznej generacji stron po aktualizacji zawartości serwisu, to powinno być ustawione jako <em>publiczne</em>. 
W kontach <em>prywatnych</em> funkcjonalności te są dostępne tylko za opłatą.</p>

<ol>
  <li>Sklonuj repozytorium do lokalnego folderu.</li>
</ol>

<p>Procedura klonowania zapewnia, że katalog projektu jest już w zasadzie zainicjowany jako repozytorium <code class="language-plaintext highlighter-rouge">Git</code>, tzn. istnieje podkatalog <code class="language-plaintext highlighter-rouge">.git/</code> zawierający niezbędne metadane.
W trakcie pracy nad serwisem zawartość katalogu projektu będzie podlegała zmianom.
Utrzymanie synchronizmu z repozytorium GitHub wymaga nadążnej aktualizacji lokalnego folderu ze zmianami jakie zaszły w zdalnym repozytorium (<code class="language-plaintext highlighter-rouge">git fetch</code>) oraz okresowego wypychania zmian naniesionych lokalnie do zdalnego repozytorium (<code class="language-plaintext highlighter-rouge">git stage</code>, <code class="language-plaintext highlighter-rouge">git commit</code>, <code class="language-plaintext highlighter-rouge">git push</code>). 
Działania te będą wykonywane półautomatycznie przez <code class="language-plaintext highlighter-rouge">VS Code</code>.
Jednak poprawne działanie klienta <code class="language-plaintext highlighter-rouge">Git</code> wymaga przypisania do lokalnego repozytorium pseudonimu i adresu email użytkownika, który nanosi w nim zmiany.
Dlatego w katalogu projektu po jego utworzeniu należy wydać komendy</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="rouge-code"><pre>git config user.name <span class="s2">"your_name"</span>
git config user.email <span class="s2">"your_mail@somewhere.com"</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<ol>
  <li>Zainstaluj kontener deweloperski zawierający gotowe środowisko pracy.</li>
</ol>

<p>Edytor <code class="language-plaintext highlighter-rouge">Code</code> umożliwia korzystanie z kontenerów Docker’a zawierających gotowe i hermetyczne środowiska pracy.
Mechanizm ten nazwano <code class="language-plaintext highlighter-rouge">DevContainers</code>.
<code class="language-plaintext highlighter-rouge">Code</code> po uruchomieniu w katalogu odpowiednio skonfigurowanego projektu “wchodzi” do wnętrza kontenera, a katalog projektu jest mapowany na katalog roboczy wewnątrz kontenera.
Dla dewelopera automatycznie wszystkie narzędzia zainstalowane w kontenerze stają się dostępne.
Jednocześnie wprowadzone przez niego zmiany ograniczone są do plików projektu oraz plików kontenera, przy czym te drugie są ulotne i znikają po skasowaniu kontenera.
Tylko zmiany naniesione w katalogu roboczym mają charakter trwały.
Dla wielu typów projektów szablony środowisk pracy są już przygotowane i <a href="https://github.com/microsoft/vscode-dev-containers/">publicznie udostępnione</a>.
W omawianym przypadku wykorzystamy środowisko do pracy ze statycznym generatorem stron o nazwie <code class="language-plaintext highlighter-rouge">Hugo</code>.
Jest to jeden z najlepszych generatorów tego typu.
W tym celu należy z podkatalogu <code class="language-plaintext highlighter-rouge">containers/hugo</code> repozytorium <a href="https://github.com/microsoft/vscode-dev-containers/">https://github.com/microsoft/vscode-dev-containers/</a> pobrać wraz zawartością katalog <code class="language-plaintext highlighter-rouge">.devcontainer/</code> i opcjonalnie <code class="language-plaintext highlighter-rouge">.vscode/</code>.
Zadanie to realizuje komenda</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>curl <span class="nt">-Ls</span> https://github.com/microsoft/vscode-dev-containers/archive/main.tar.gz | <span class="nb">tar</span> <span class="nt">-xvz</span> <span class="nt">--strip-components</span><span class="o">=</span>3 <span class="nt">--wildcards</span> <span class="s1">'*/*/hugo/.*'</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Ze względu na niewielką liczbe importowanych plików zadanie to można wykonać “ręcznie” z użyciem przeglądarki WWW.
Opisane wyżej zadania realizuje poniższy skrypt</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td>
<td class="rouge-code"><pre><span class="c">#!/bin/sh</span>
<span class="nv">gh_user</span><span class="o">=</span>your_gh_account
<span class="nv">gh_repo</span><span class="o">=</span>your_gh_repo
<span class="nv">gh_name</span><span class="o">=</span>your_name
<span class="nv">gh_mail</span><span class="o">=</span>your_mail@somewhere.com

git clone https://github.com/<span class="k">${</span><span class="nv">gh_user</span><span class="k">}</span>/<span class="k">${</span><span class="nv">gh_repo</span><span class="k">}</span>

<span class="nb">cd</span> <span class="k">${</span><span class="nv">gh_repo</span><span class="k">}</span>
git config user.name <span class="s2">"</span><span class="k">${</span><span class="nv">gh_name</span><span class="k">}</span><span class="s2">"</span>
git config user.email <span class="s2">"</span><span class="k">${</span><span class="nv">gh_mail</span><span class="k">}</span><span class="s2">"</span>

curl <span class="nt">-Ls</span> https://github.com/microsoft/vscode-dev-containers/archive/main.tar.gz | <span class="nb">tar</span> <span class="nt">-xvz</span> <span class="nt">--strip-components</span><span class="o">=</span>3 <span class="nt">--wildcards</span> <span class="s1">'*/*/hugo/.*'</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Przed pierwszym uruchomieniem warto zapoznać się z treścią plików <code class="language-plaintext highlighter-rouge">.devcontainer/devcontainer.json</code> i <code class="language-plaintext highlighter-rouge">.devcontainer/Dockerfile</code>, które definiują konfigurację kontenera i przepis na jego zbudowanie.
Zmiany w pliku <code class="language-plaintext highlighter-rouge">Dockerfile</code> zazwyczaj nie są konieczne.
Natomiast w <code class="language-plaintext highlighter-rouge">devcontainer.json</code> warto ustawić wersję Hugo na <code class="language-plaintext highlighter-rouge">extended</code>, wersję <code class="language-plaintext highlighter-rouge">node</code> na najwyższą wspieraną w <code class="language-plaintext highlighter-rouge">Dockerfile</code>, ustawić nazwę kontenera korzystając z <code class="language-plaintext highlighter-rouge">runArgs</code>, poprosić o wypisanie w terminalu wersji zainstalowanych narzędzi po utworzeniu kontenera, zmienić rozszerzenie wykorzystywane do obsługi plików TOML z <code class="language-plaintext highlighter-rouge">bungcip.better-toml</code> na <code class="language-plaintext highlighter-rouge">tamasfe.even-better-toml</code>, dołożyć sprawdzanie pisowni i opcjonalnie dodać rozszerzenie do parsowania plików definiujących <code class="language-plaintext highlighter-rouge">GitHub Actions</code> (więcej o tym później).
Po wspomnianych modyfikacjach plik <code class="language-plaintext highlighter-rouge">devcontainer.json</code> przyjmie postać</p>

<div class="language-json highlighter-rouge">
<div class="code-header">
        <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td>
<td class="rouge-code"><pre><span class="p">{</span><span class="w">
	</span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hugo (Community)"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
		</span><span class="nl">"dockerfile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dockerfile"</span><span class="p">,</span><span class="w">
		</span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
			</span><span class="nl">"VARIANT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hugo_extended"</span><span class="p">,</span><span class="w">
			</span><span class="nl">"VERSION"</span><span class="p">:</span><span class="w"> </span><span class="s2">"latest"</span><span class="p">,</span><span class="w">
			</span><span class="nl">"NODE_VERSION"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="w">
		</span><span class="p">}</span><span class="w">
	</span><span class="p">},</span><span class="w">
	</span><span class="nl">"runArgs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"--name=this-is-Hugo-DevContainer"</span><span class="p">]</span><span class="w"> </span><span class="p">,</span><span class="w">
	</span><span class="nl">"customizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
		</span><span class="nl">"vscode"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
			</span><span class="nl">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
				</span><span class="nl">"html.format.templating"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
				</span><span class="nl">"cSpell.language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en, pl"</span><span class="p">,</span><span class="w">
				</span><span class="nl">"cSpell.userWords"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"tutaj"</span><span class="p">,</span><span class="w"> </span><span class="s2">"wpisz"</span><span class="p">,</span><span class="w"> </span><span class="s2">"wyjątki"</span><span class="p">,</span><span class="w"> </span><span class="s2">"dla"</span><span class="p">,</span><span class="w"> </span><span class="s2">"słów"</span><span class="p">,</span><span class="w"> </span><span class="s2">"polskich"</span><span class="p">]</span><span class="w">
						</span><span class="p">},</span><span class="w">
			</span><span class="nl">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
				</span><span class="s2">"tamasfe.even-better-toml"</span><span class="p">,</span><span class="w">
				</span><span class="s2">"davidanson.vscode-markdownlint"</span><span class="p">,</span><span class="w">
				</span><span class="s2">"streetsidesoftware.code-spell-checker-polish"</span><span class="p">,</span><span class="w">
				</span><span class="s2">"GitHub.vscode-github-actions"</span><span class="w">
			</span><span class="p">]</span><span class="w">			  
		</span><span class="p">}</span><span class="w">
	</span><span class="p">},</span><span class="w">
	</span><span class="nl">"forwardPorts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
		</span><span class="mi">1313</span><span class="w">
	</span><span class="p">],</span><span class="w">
	</span><span class="nl">"postCreateCommand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uname -a &amp;&amp; hugo version &amp;&amp; node --version"</span><span class="p">,</span><span class="w">
	</span><span class="nl">"remoteUser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></div>
</div>

<p>Teraz można uruchomić <code class="language-plaintext highlighter-rouge">Code</code> wydając w katalogu projektu komendę</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>code <span class="nb">.</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p><code class="language-plaintext highlighter-rouge">Code</code> “zauważy”, że istnieje podkatalog <code class="language-plaintext highlighter-rouge">.devcontainer/</code> i zapyta, czy otworzyć projekt w kontenerze deweloperskim.
Należy się na to zgodzić.
Przełączenie pomiędzy pracą lokalną a kontenerem (traktowanym przez <code class="language-plaintext highlighter-rouge">Code</code> jak zdalna maszyna) aktywuje się za pomocą przycisku znajdującego się w lewym dolnym rogu interfejsu <code class="language-plaintext highlighter-rouge">Code</code> <a href="code-remote-button.png" class="popup img-link "><img data-src="code-remote-button.png" alt="code-remote-button" class="lazyload" data-proofer-ignore></a>.</p>

<h3 id="przygotowanie-szablonu-serwisu">
<span class="me-2">Przygotowanie szablonu serwisu</span><a href="#przygotowanie-szablonu-serwisu" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h3>

<p>Po uruchomieniu <code class="language-plaintext highlighter-rouge">Code</code> i wejściu do wnętrza kontenera (<em>pierwsze uruchomienie nie jest natychmiastowe, gdyż kontener musi zostać zbudowany z komponentów pobieranych z sieci</em>) należy uruchomić terminal (‘Ctrl-Shift-`’) i zainicjować pusty serwis</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>hugo new site <span class="nb">.</span> <span class="nt">--force</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Praca z tak przygotowanym środowiskiem wymaga znacznego nakładu pracy i znajomości zasad generacji stron oraz przygotowanie szablonów HTML, które będą wypełniane treścią podczas generacji serwisu.
Na szczęście można skorzystać z szablonów serwisów przygotowanych przez ochotników i udostępnionych na <a href="https://themes.gohugo.io/themes/">https://themes.gohugo.io/themes/</a>.
W dalszej części wykorzystamy szablon <a href="https://themes.gohugo.io/themes/hugo-theme-fuji/">Fuji</a>.
Jego instalacja sprowadza się do wydania w katalogu projektu komendy</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>git submodule add https://github.com/dsrkafuu/hugo-theme-fuji.git themes/fuji
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Wszystkie prawidłowo przygotowane style serwisów zawierają gotowy przykład.
Wystarczy go przenieść do budowanego serwisu, aby sprawdzić działanie przygotowanego środowiska pracy</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="nb">cp</span> <span class="nt">-r</span> themes/fuji/exampleSite/<span class="k">*</span> <span class="nb">.</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Plik konfiguracyjny obecnej wersji <code class="language-plaintext highlighter-rouge">Hugo</code> nosi nazwę <code class="language-plaintext highlighter-rouge">hugo.toml</code>.
Wiele szablonów korzysta ze starszej konwencji i opiera się o plik <code class="language-plaintext highlighter-rouge">config.toml</code>.
Na szczęście zachowana jest kompatybilność wstecz, więc wystarczy skasować <code class="language-plaintext highlighter-rouge">hugo.toml</code>.</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="nb">rm </span>hugo.toml
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Na obecnym etapie można już wygenerować serwis wydaną w terminalu komendą</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>hugo server <span class="nt">--disableFastRender</span> <span class="nt">--buildDrafts</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Tak uruchomiony generator będzie śledził zmiany w plikach wejściowych i “na bieżąco” generował zawartość serwisu.
Po wydaniu powyższej komendy
<code class="language-plaintext highlighter-rouge">Code</code> zaproponuje podgląd serwisu w przeglądarce systemowej lub wbudowanej w <code class="language-plaintext highlighter-rouge">Code</code>.</p>

<p>Więcej informacji na temat dostepnych przełączników mozna uzyskać komendą</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>hugo server <span class="nt">--help</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<h2 id="przygotowanie-treści-serwisu">
<span class="me-2">Przygotowanie treści serwisu</span><a href="#przygotowanie-tre%C5%9Bci-serwisu" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h2>

<p>Zadaniem generatora <code class="language-plaintext highlighter-rouge">Hugo</code> jest przekształcenie zbioru plików wejściowych w formacie <code class="language-plaintext highlighter-rouge">Markdown</code> w gotowy serwis WWW.
Translacja <code class="language-plaintext highlighter-rouge">Markdown</code> na HTML odbywa się zgodne z szablonami zdefiniowanymi w stylu serwisu.
<code class="language-plaintext highlighter-rouge">Hugo</code> wymaga, aby pliki źródłowe były umieszczone w katalogu <code class="language-plaintext highlighter-rouge">content/</code>.
Są one pogrupowane w zależności od typu informacji zamieszczonej w serwisie.
Rodzaje publikowanych informacji są zdefiniowane w ramach stylu, natomiast prawie zawsze występuje typ <code class="language-plaintext highlighter-rouge">post/</code> reprezentujący wpis blogu.
Każdy plik wejściowy jest opatrzony metadanymi zawierającymi tytuł, datę utworzenia itp.
Sposób formatowania tych metadanych zawierają pliki zaimportowane z przykładowego serwisu.
W kontekście dalszej pracy istotna jest flaga <code class="language-plaintext highlighter-rouge">draft</code></p>

<pre><code class="language-txt">---
...
draft: true
---
</code></pre>

<p>Pliki z tą flagą są wyłączane z zawartości serwisu przeznaczonego do publikacji.
Zatem, aby uniknąć publikacji zaimportowanych przykładowych plików należy w każdym z nich ustawić tę flagę.</p>

<p>Kolejnym elementem, którego edycja jest niezbędna, jest plik <code class="language-plaintext highlighter-rouge">config.toml</code>.
Należy w nim ustawić URL pod którym będzie dostępny serwis.
Jeżeli wartość zmiennej <code class="language-plaintext highlighter-rouge">baseURL</code> jest ustawiona na</p>

<div class="language-toml highlighter-rouge">
<div class="code-header">
        <span data-label-text="TOML"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="py">baseURL</span> <span class="p">=</span> <span class="s">"https://your_gh_account.github.io/gh_repo/"</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>to podgląd generowanych na bieżąco stron będzie dostępny pod adresem
<a href="http://localhost:1313/gh_repo">http://localhost:1313/gh_repo</a>.
Plik konfiguracyjny zawiera również wiele innych zmiennych, których nazwy i wartości silnie zależą od użytego stylu serwisu.</p>

<p>Ostatnim z obowiązkowych kroków jest przygotowanie nowego wpisu.
Przyjmiemy konwencję, że każdy post będzie zlokalizowany w osobnym folderze.
W folderze tym będą również składowane zasoby skojarzone z postem, takie jak np. grafika.
Nowy post zakłada się komendą</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>hugo new post/to-moj-pierwszy-wpis/index.md
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Plik <code class="language-plaintext highlighter-rouge">index.md</code> zawiera już niektóre metadane.
Szablon wg którego został przygotowany znajduje się w pliku <code class="language-plaintext highlighter-rouge">archetypes/default.md</code>.
Domyślnie plik <code class="language-plaintext highlighter-rouge">index.md</code> ma postać</p>

<div class="language-markdown highlighter-rouge">
<div class="code-header">
        <span data-label-text="Markdown"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="rouge-code"><pre><span class="nn">---</span>
<span class="na">title</span><span class="pi">:</span> <span class="s2">"</span><span class="s">To</span><span class="nv"> </span><span class="s">Moj</span><span class="nv"> </span><span class="s">Pierwszy</span><span class="nv"> </span><span class="s">Wpis"</span>
<span class="na">date</span><span class="pi">:</span> <span class="s">2023-08-05T17:18:23Z</span>
<span class="na">draft</span><span class="pi">:</span> <span class="kc">true</span>
<span class="nn">---</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Plik ten należy uzupełnić treścią.
Przy formatowaniu wpisu (treść, metadane) najlepiej kierować się przykładami zawartymi w szablonie serwisu.
W niektórych szablonach streszczenia nowych wpisów pojawiają się na stronie głównej serwisu.
Streszczenie oddziela się od treści głównej umieszczając w pliku wejściowym <code class="language-plaintext highlighter-rouge">Markdown</code> znacznik <a href="https://gohugo.io/content-management/summaries/#summary-selection-order">read more</a>.</p>

<p>Więcej informacji nt. prawidłowego przygotowania plików dla generatora jest dostępnych na stronie <a href="https://gohugo.io/content-management/">projektu Hugo</a>.
Przykłady zawarte w użytym szablonie serwisu również mogą być pomocne.</p>

<h2 id="praca-ze-zdalnym-repozytorium">
<span class="me-2">Praca ze zdalnym repozytorium</span><a href="#praca-ze-zdalnym-repozytorium" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h2>

<p>Zdalne repozytorium <code class="language-plaintext highlighter-rouge">GitHub</code> może wykorzystać trojako: do synchronizacji katalogów roboczych na kilku różnych komputerach, do stworzenia kopii zapasowej projektu oraz do automatycznego generowania serwisu i jego publikacji. Ostatniemu zagadnieniu poświęcono <a href="#github-actions">osobną sekcję</a>.</p>

<p>Praca z repozytorium <code class="language-plaintext highlighter-rouge">GitHub</code> w <code class="language-plaintext highlighter-rouge">Code</code> nie nastręcza żadnych trudności bowiem w edytor wbudowano odpowiednie mechanizmy.
Pliki, które zmieniono względem ostatniej synchronizacji ze zdalnym repozytorium są oznaczane literką “U”.
Aby zsynchronizować się zdalnym repozytorium należy na panelu bocznym wybrać ikonę współdzielenia.
Synchronizacja odbywa się w paczkach zwanych “Commit”.
Każdy “Commit” jest opatrzony krótkim opisem, zatem mechanizm ten umożliwia aktualizację repozytorium w sposób zorientowany problemowo.
Aby plik znalazł się w danej paczce “Commit”, musi najpierw zostać przeniesiony do poczekalni (tzw. <em>stage</em>).
Po wybraniu ikony współdzielenia prezentowana jest lista zmienionych plików projektu.
Z listy tej można wybrać pliki, które zostają wystawione do aktualizacji (<em>stage</em>).
Następnie, w górnej linii panelu bocznego należy wpisać opis paczki, a następnie wybrać “Commit”.
Paczek “Commit” można utworzyć kilka.
Aktualizację ze zdalnym repozytorium realizuje wybranie przycisku “Sync”.</p>

<p><code class="language-plaintext highlighter-rouge">Git</code> umożliwia wyłączenie wybranych plików z mechanizmu synchronizacji. 
Są one określone w pliku <code class="language-plaintext highlighter-rouge">.gitignore</code>, przy czym dozwolone jest stosowanie standardowych masek powłoki w postaci znaków “?” i “*”.
Typowa postać tego pliku dla repozytorium zawierające projekt statycznego serwisu <code class="language-plaintext highlighter-rouge">Hugo</code> ma postać</p>

<pre><code class="language-txt">resources/_gen/*
themes/*/exampleSite/*
.vscode/
public/*
</code></pre>
<p>Katalog <code class="language-plaintext highlighter-rouge">resources/</code> zawiera pliki pośrednie wykorzystane przez generator, natomiast katalog <code class="language-plaintext highlighter-rouge">public/</code> pliki wynikowe.
Jeżeli repozytorium <code class="language-plaintext highlighter-rouge">GitHub</code> ma być wykorzystane do publikacji gotowego serwisu wygenerowanego lokalnie, to oczywiście katalog <code class="language-plaintext highlighter-rouge">public/</code> należy usunąć z pliku <code class="language-plaintext highlighter-rouge">.gitignore</code>.</p>

<h2 id="publikacja-serwisu">
<span class="me-2">Publikacja serwisu</span><a href="#publikacja-serwisu" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h2>

<p>Serwis <code class="language-plaintext highlighter-rouge">GitHub</code>, podobnie do <code class="language-plaintext highlighter-rouge">GitLab</code> i kilku innych serwisów wspierających pracę grupową nad projektami, dostarcza usługi publikacji zasobów repozytorium oraz możliwość ciągłej integracji zmian i dostarczania nowych wersji oprogramowania (<code class="language-plaintext highlighter-rouge">CI/CD</code>).
W serwisie <code class="language-plaintext highlighter-rouge">GitHub</code> usługi te noszą odpowiednio nazwy <code class="language-plaintext highlighter-rouge">GitHub Pages</code> i <code class="language-plaintext highlighter-rouge">GitHub Actions</code>.
<code class="language-plaintext highlighter-rouge">GitHub Pages</code> polega na potraktowaniu jednego z katalogów repozytorium jako serwisu WWW i udostępnienia go pod adresem</p>

<pre><code class="language-txt">https://your_gh_account.github.io/gh_repo/
</code></pre>

<p>Z kolei za pomocą <code class="language-plaintext highlighter-rouge">GitHub Actions</code> można skonfigurować wyzwalanie pewnych działań na zawartości serwisu gdy zostaną spełnione określone warunki, np. gdy pliki repozytorium zostaną zaktualizowane.
Pierwotnie usługi <code class="language-plaintext highlighter-rouge">GitHub Pages</code> i <code class="language-plaintext highlighter-rouge">GitHub Actions</code> funkcjonowały niezależnie.
Jednym z dostępnych działań jest możliwość opublikowania określonego folderu repozytorium jako serwisu WWW.
Obecnie <code class="language-plaintext highlighter-rouge">GitHub Pages</code> jest realizowana jako jedno z działań <code class="language-plaintext highlighter-rouge">GitHub Actions</code>, jednak, ze względów historycznych ma wydzieloną specjalną pozycję w interfejsie repozytorium.
Poza konfiguracją mechanizmu CI/CD żadna dodatkowa konfiguracja nie jest potrzebna do publikacji serwisu.
Należy jednak pamiętać, że usługi <code class="language-plaintext highlighter-rouge">GitHub Actions</code> i <code class="language-plaintext highlighter-rouge">GitHub Pages</code> są dostępne nieodpłatnie tylko dla repozytoriów publicznych.
Dalej przedstawione zostaną trzy różne scenariusze publikacji serwisu wygenerowanego przez <code class="language-plaintext highlighter-rouge">Hugo</code>:</p>

<ul>
  <li>wersja A: w serwisie <code class="language-plaintext highlighter-rouge">GitHub</code> upublicznione są pliki wejściowe wejściowe w formacie Markdown oraz wzorce stanowiące podstawę generacji stron HTML. <code class="language-plaintext highlighter-rouge">GitHub Actions</code> są wykorzystywane do wygenerowania i opublikowania nowej wersji serwisu.</li>
  <li>wersja B: w serwisie <code class="language-plaintext highlighter-rouge">GitHub</code> upublicznione są tylko pliki wynikowe, tj. zawartość wygenerowanego serwisu. <code class="language-plaintext highlighter-rouge">GitHub Actions</code> są wykorzystywane do jego publikacji.</li>
  <li>wersja C: repozytorium <code class="language-plaintext highlighter-rouge">GitHub</code> jest wykorzystywane tylko do przechowywania plików wejściowych generatora i nie musi być upublicznione. Generacja zawartości zawartości serwisu i jej upublicznienie wykorzystuje lokalne zasoby użytkownika.</li>
</ul>

<h3 id="a-github-actions">
<span class="me-2">A. GitHub Actions</span><a href="#a-github-actions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h3>

<p><a name="github-actions"></a>
Do publikacji serwisu zostanie wykorzystany automatyczne działanie, przy czym interfejs do jego konfiguracji znajduje się w menu <code class="language-plaintext highlighter-rouge">Pages</code></p>

<pre><code class="language-txt">https://github.com/${gh_user}/${gh_repo}/settings/pages
</code></pre>

<p>Jednak, aby publikacja się udała, w repozytorium musi istnieć gałąź <code class="language-plaintext highlighter-rouge">Git</code> o nazwie <code class="language-plaintext highlighter-rouge">gh-pages</code>.
Można ją utworzyć w serwisie <code class="language-plaintext highlighter-rouge">GitHub</code> wybierając na stronie głównej repozytorium przycisk <code class="language-plaintext highlighter-rouge">Branches</code> i dodać wspomnianą gałąź.</p>

<video controls="">
    <source src="github-add-branch.webm" type="video/webm"></source>
    Your browser does not support the video tag.
  </video>

<p>Dopiero teraz w menu <code class="language-plaintext highlighter-rouge">Pages</code> jako metodę publikacji należy wybrać <code class="language-plaintext highlighter-rouge">GitHub Actions</code> przy użyciu akcji <code class="language-plaintext highlighter-rouge">Hugo</code>.</p>

<video controls="">
    <source src="github-select-action.webm" type="video/webm"></source>
    Your browser does not support the video tag.
  </video>

<p>Takie działanie spowoduje powstanie w katalogu <code class="language-plaintext highlighter-rouge">.github/workflows</code> pliku <code class="language-plaintext highlighter-rouge">hugo.yml</code> o treści</p>

<div class="language-yaml highlighter-rouge">
<div class="code-header">
        <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
</pre></td>
<td class="rouge-code"><pre><span class="na">name</span><span class="pi">:</span> <span class="s">Deploy Hugo site to Pages</span>
<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">main"</span><span class="pi">]</span>
  <span class="na">workflow_dispatch</span><span class="pi">:</span>
<span class="na">permissions</span><span class="pi">:</span>
  <span class="na">contents</span><span class="pi">:</span> <span class="s">read</span>
  <span class="na">pages</span><span class="pi">:</span> <span class="s">write</span>
  <span class="na">id-token</span><span class="pi">:</span> <span class="s">write</span>
<span class="na">concurrency</span><span class="pi">:</span>
  <span class="na">group</span><span class="pi">:</span> <span class="s2">"</span><span class="s">pages"</span>
  <span class="na">cancel-in-progress</span><span class="pi">:</span> <span class="kc">false</span>
<span class="na">defaults</span><span class="pi">:</span>
  <span class="na">run</span><span class="pi">:</span>
    <span class="na">shell</span><span class="pi">:</span> <span class="s">bash</span>
<span class="na">jobs</span><span class="pi">:</span>
  <span class="c1"># Build job</span>
  <span class="na">build</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">env</span><span class="pi">:</span>
      <span class="na">HUGO_VERSION</span><span class="pi">:</span> <span class="s">0.114.0</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Install Hugo CLI</span>
        <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
          <span class="s">wget -O $/hugo.deb https://github.com/gohugoio/hugo/releases/download/v${HUGO_VERSION}/hugo_extended_${HUGO_VERSION}_linux-amd64.deb \</span>
          <span class="s">&amp;&amp; sudo dpkg -i $/hugo.deb</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Install Dart Sass</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">sudo snap install dart-sass</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v3</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">submodules</span><span class="pi">:</span> <span class="s">recursive</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Setup Pages</span>
        <span class="na">id</span><span class="pi">:</span> <span class="s">pages</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/configure-pages@v3</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Install Node.js dependencies</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s2">"</span><span class="s">[[</span><span class="nv"> </span><span class="s">-f</span><span class="nv"> </span><span class="s">package-lock.json</span><span class="nv"> </span><span class="s">||</span><span class="nv"> </span><span class="s">-f</span><span class="nv"> </span><span class="s">npm-shrinkwrap.json</span><span class="nv"> </span><span class="s">]]</span><span class="nv"> </span><span class="s">&amp;&amp;</span><span class="nv"> </span><span class="s">npm</span><span class="nv"> </span><span class="s">ci</span><span class="nv"> </span><span class="s">||</span><span class="nv"> </span><span class="s">true"</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Build with Hugo</span>
        <span class="na">env</span><span class="pi">:</span>
          <span class="c1"># For maximum backward compatibility with Hugo modules</span>
          <span class="na">HUGO_ENVIRONMENT</span><span class="pi">:</span> <span class="s">production</span>
          <span class="na">HUGO_ENV</span><span class="pi">:</span> <span class="s">production</span>
        <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
          <span class="s">hugo \</span>
            <span class="s">--minify \</span>
            <span class="s">--baseURL "$/"</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Upload artifact</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/upload-pages-artifact@v2</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">path</span><span class="pi">:</span> <span class="s">./public</span>
  <span class="c1"># Deployment job</span>
  <span class="na">deploy</span><span class="pi">:</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">github-pages</span>
      <span class="na">url</span><span class="pi">:</span> <span class="s">$</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">needs</span><span class="pi">:</span> <span class="s">build</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Deploy to GitHub Pages</span>
        <span class="na">id</span><span class="pi">:</span> <span class="s">deployment</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/deploy-pages@v2</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Sekcja <code class="language-plaintext highlighter-rouge">on:</code> tego pliku definiuje jakie zdarzenia aktywują akcję.
W zamieszczonym przykładzie skonfigurowano dwa takie zdarzenia: aktualizacja gałęzi <code class="language-plaintext highlighter-rouge">main</code> (opcja <code class="language-plaintext highlighter-rouge">push:</code>) oraz manualną aktywację (<code class="language-plaintext highlighter-rouge">workflow_dispatch:</code>) za pomocą interfejsu serwisu <code class="language-plaintext highlighter-rouge">GitHub</code>.
Późniejsza zmiana metody publikacji zawartości repozytorium wymaga wcześniejszego  całkowitego wyłączenia publikowania (<code class="language-plaintext highlighter-rouge">unpublish</code>).
Biorąc pod uwagę, że skonfigurowana akcja zapewnia generację plików HTML, to synchronizacja plików z podkatalogu <code class="language-plaintext highlighter-rouge">public</code> nie jest konieczna.</p>

<p>W tak skonfigurowanym repozytorium każdorazowa zmiana plików wejściowych powoduje zbudowanie serwisu.
Takie postępowanie nie jest zbyt eleganckie, bowiem wiele z tych wywołań jest po prostu niepotrzebnych.
Rozwiązaniem sytuacji jest utworzenie gałęzi <code class="language-plaintext highlighter-rouge">devel</code> i praca nad serwisem z jej wykorzystaniem.
Do jej utworzenia można wykorzystać <code class="language-plaintext highlighter-rouge">Code</code>.
Po wybraniu ikony synchronizacji wybieramy <code class="language-plaintext highlighter-rouge">...</code> przy nazwie repozytorium, a następnie <code class="language-plaintext highlighter-rouge">Branch</code>-&gt; <code class="language-plaintext highlighter-rouge">Create Branch</code> i wpisujemy <code class="language-plaintext highlighter-rouge">devel</code>.
Teraz utworzoną gałąź publikujemy (<code class="language-plaintext highlighter-rouge">...</code>-&gt;<code class="language-plaintext highlighter-rouge">Branch</code>-&gt;<code class="language-plaintext highlighter-rouge">Publish Branch</code>), co zapewni, że zostanie ona przeniesiona do drzewa <code class="language-plaintext highlighter-rouge">Git</code> znajdującego się w repozytorium <code class="language-plaintext highlighter-rouge">GitHub</code>.
Synchronizacja z repozytorium <code class="language-plaintext highlighter-rouge">GitHub</code> jest “bezkosztowa” gdyż zgodnie z konfiguracją tylko zmiany w gałęzi <code class="language-plaintext highlighter-rouge">main</code> włączają budowę serwisu.</p>

<video controls="">
  <source src="code-add-branch.webm" type="video/webm"></source>
  Your browser does not support the video tag.
</video>

<p>Dopiero gdy określony etap pracy zostanie osiągnięty, wtedy należy przełączyć się na gałąź <code class="language-plaintext highlighter-rouge">main</code>, włączyć do niej zmiany z gałęzi <code class="language-plaintext highlighter-rouge">devel</code> i zsynchronizować <code class="language-plaintext highlighter-rouge">GitHub</code>.
Wtedy synchronizacja z serwisem <code class="language-plaintext highlighter-rouge">GitHub</code> spowoduje zbudowanie serwisu na mocy konfiguracji dyrektywy <code class="language-plaintext highlighter-rouge">on:</code>.
Po wykonaniu synchronizacji aktywną gałąź w lokalnym repozytorium znowu należy przełączyć na <code class="language-plaintext highlighter-rouge">devel</code>.</p>

<video controls="">
  <source src="code-merge-branch.webm" type="video/webm"></source>
  Your browser does not support the video tag.
</video>

<p>Zaletą przedstawionej konfiguracji jest możliwość aktualizacji zawartości serwisu z dowolnego miejsca za pomocą przeglądarki internetowej z wykorzystaniem natywnego interfejsu usługi <code class="language-plaintext highlighter-rouge">GitHub</code> lub <a href="https://vscode.dev/">https://vscode.dev/</a>.</p>

<h3 id="b-github-pages">
<span class="me-2">B. GitHub Pages</span><a href="#b-github-pages" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h3>

<p>Może się zdarzyć, że jesteśmy zainteresowani tylko publikacją gotowego serwisu bez upubliczniania postaci źródłowej publikowanych stron.
Idea takiej realizacji serwisu polega na utworzeniu w serwisie GitHub dwóch repozytoriów:</p>

<ul>
  <li>prywatnego, nie korzystającego z <code class="language-plaintext highlighter-rouge">GitHub Actions</code> czy <code class="language-plaintext highlighter-rouge">GitHub Pages</code> i zawierającego tylko pliki źródłowe wykorzystywane w procesie generacji,</li>
  <li>publicznego. korzystającego z powyższych udogodnień i zawierającego tylko pliki wynikowe.</li>
</ul>

<p>Adaptacja poprzedniej konfiguracji do takiego wymogu jest stosunkowo prosta, należy jedynie pamiętać, że
generator <code class="language-plaintext highlighter-rouge">Hugo</code> umieszcza pliki wynikowe w podkatalogu <code class="language-plaintext highlighter-rouge">public</code>:</p>

<ul>
  <li>w usłudze <code class="language-plaintext highlighter-rouge">GitHub</code> repozytorium przechowujące pliki źródłowe przekształcamy w prywatne,</li>
  <li>w usłudze <code class="language-plaintext highlighter-rouge">GitHub</code> zakładamy nowe repozytorium, dalej będziemy się do niego odwoływać jako <code class="language-plaintext highlighter-rouge">your_hugo_site</code>,</li>
  <li>
    <p>w lokalnym repozytorium czyścimy podkatalog <code class="language-plaintext highlighter-rouge">public</code> (znaczek <code class="language-plaintext highlighter-rouge">*</code> jest ważny):</p>

    <div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="nb">rm</span> <span class="nt">-rf</span> public/<span class="k">*</span>
</pre></td>
</tr></tbody></table></code></div>    </div>

    <p>a następnie podpinamy do niego nowo utworzone repozytorium</p>

    <div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>git submodule add https://github.com/<span class="k">${</span><span class="nv">gh</span><span class="p">-user</span><span class="k">}</span>/your_hugo_site public/
</pre></td>
</tr></tbody></table></code></div>    </div>
  </li>
</ul>

<p><code class="language-plaintext highlighter-rouge">Code</code> zauważy zmianę i dopasuje swój interfejs tak aby umożliwić pracę z dwoma repozytoriami jednocześnie.</p>

<p>Publikacja wymaga istnienia w repozytorium gałęzi <code class="language-plaintext highlighter-rouge">gh-pages</code>.
Można ją utworzyć w serwisie <code class="language-plaintext highlighter-rouge">GitHub</code> wybierając na stronie głównej repozytorium przycisk <code class="language-plaintext highlighter-rouge">Branches</code>.
Po wybraniu ikony synchronizacji wybieramy <code class="language-plaintext highlighter-rouge">...</code> przy nazwie repozytorium , a następnie <code class="language-plaintext highlighter-rouge">Branch</code>-&gt; <code class="language-plaintext highlighter-rouge">Create Branch</code> i wpisujemy <code class="language-plaintext highlighter-rouge">gh-pages</code>.</p>

<video controls="">
    <source src="github-add-branch.webm" type="video/webm"></source>
    Your browser does not support the video tag.
  </video>

<p>Teraz w nowym repozytorium wystarczy aktywować mechanizm <code class="language-plaintext highlighter-rouge">GitHub Pages</code>.</p>

<pre><code class="language-txt">https://github.com/${gh_user}/${gh_repo}/settings/pages
</code></pre>

<p>Tym razem należy wybrać działanie <code class="language-plaintext highlighter-rouge">Static HTML</code> (<code class="language-plaintext highlighter-rouge">Build and deployment</code>-&gt;<code class="language-plaintext highlighter-rouge">GitHub Actions</code>).
Taki wybór spowoduje, że w repozytorium <code class="language-plaintext highlighter-rouge">your_hugo_site</code> zostanie utworzone działanie <code class="language-plaintext highlighter-rouge">.github/workflows/static.yml</code></p>

<p>Domyślnie akcja publikacji dotyczy zawartości całego repozytorium, nie trzeba zatem nic zmieniać.</p>

<div class="language-yaml highlighter-rouge">
<div class="code-header">
        <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td>
<td class="rouge-code"><pre><span class="na">name</span><span class="pi">:</span> <span class="s">Deploy static content to Pages</span>
<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">main"</span><span class="pi">]</span>
  <span class="na">workflow_dispatch</span><span class="pi">:</span>
<span class="na">permissions</span><span class="pi">:</span>
  <span class="na">contents</span><span class="pi">:</span> <span class="s">read</span>
  <span class="na">pages</span><span class="pi">:</span> <span class="s">write</span>
  <span class="na">id-token</span><span class="pi">:</span> <span class="s">write</span>
<span class="na">concurrency</span><span class="pi">:</span>
  <span class="na">group</span><span class="pi">:</span> <span class="s2">"</span><span class="s">pages"</span>
  <span class="na">cancel-in-progress</span><span class="pi">:</span> <span class="kc">false</span>
<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">deploy</span><span class="pi">:</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">github-pages</span>
      <span class="na">url</span><span class="pi">:</span> <span class="s">$</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v3</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Setup Pages</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/configure-pages@v3</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Upload artifact</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/upload-pages-artifact@v2</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="c1"># Upload only 'public/' folder</span>
          <span class="na">path</span><span class="pi">:</span> <span class="s1">'</span><span class="s">.'</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Deploy to GitHub Pages</span>
        <span class="na">id</span><span class="pi">:</span> <span class="s">deployment</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/deploy-pages@v2</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Praca w tak przygotowanym środowisku przebiega wg następującego cyklu:</p>

<ul>
  <li>Korzystając z <code class="language-plaintext highlighter-rouge">Code</code> tworzymy lokalnie nową zawartość serwisu. Podgląd on-line pozwala na ocenę, czy nowo utworzone treści nadają się do publikacji. Gdy to jest konieczne wykonujemy synchronizację z repozytorium prywatnym.</li>
  <li>
    <p>Gdy tak jest, w gotowych do publikacji materiałach ustawiamy <code class="language-plaintext highlighter-rouge">draft: false</code> i generujemy nową postać serwisu komendą</p>

    <div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>hugo <span class="nt">--minify</span> 
</pre></td>
</tr></tbody></table></code></div>    </div>
  </li>
  <li>Takie działanie spowoduje aktualizację zawartości katalogu <code class="language-plaintext highlighter-rouge">public/</code> i konieczność synchronizacji ze zdalnym repozytorium. Po jej wykonaniu skonfigurowana akcja <code class="language-plaintext highlighter-rouge">GitHub</code> automatycznie opublikuje nową postać serwisu. Należy jedynie pamiętać, że wykonywanie akcji może nie być natychmiastowe i może chwilę potrwać.</li>
</ul>

<p>W przedstawionej konfiguracji można zachować prywatność danych wejściowych. Ceną jest komplikacja schematu pracy nad serwisem.</p>

<h3 id="c-własny-hosting-serwisu">
<span class="me-2">C. Własny hosting serwisu</span><a href="#c-w%C5%82asny-hosting-serwisu" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h3>

<p>W niniejszym punkcie opisano działania niezbędne do lokalnego hostingu tworzonego serwisu.
Do jego realizacji potrzebna będzie maszyna z publicznym (routowalnym) adresem IP. Nie ma wymogu aby adres ten był stały.  Maszyna musi mieć skonfigurowany dostęp za pomocą protokołu SSH. 
Do hostingu wykorzystane zostaną kontenery <code class="language-plaintext highlighter-rouge">Docker</code>, zatem również konieczna jest instalacja tego serwera na maszynie publikującej serwis WWW.
Nic nie stoi na przeszkodzie, aby maszyna wykorzystana do publikacji była zrealizowana jako wirtualny host w chmurze.
Serwis WWW musi mieć swoją nazwę, zatem należy wykupić domenę lub skorzystać z darmowych odmian dynamicznych serwisów DNS do skojarzenia nazwy serwisu z adresem IP maszyny udostępniającej serwis.
W prezentowanym dalej przykładzie zostanie wykorzystana usługa <code class="language-plaintext highlighter-rouge">DuckDNS</code>.</p>

<p>Do realizacji lokalnego hostingu jakiekolwiek serwisu niezbędny jest routowalny (publiczny) adres IP.
W omawianej konfiguracji przyjęto założenie, że adres ten jest przypisany do routera z usługą NAT, natomiast host realizujący serwis znajduje się w sieci lokalnej “schowanej” za routerem i korzystającej nieroutowalnych (prywatnych) adresów IP.
Przyjęto również założenie, że host, na którym rozwijany jest serwis i na którym zainstalowano <code class="language-plaintext highlighter-rouge">Code</code>, znajduje się w tej samej sieci co host z serwisem WWW.
Na hoście z serwisem WWW działa serwer SSH.</p>

<p>Do publicznego adresu IP musi być przypisana kwalifikowana domenowa nazwa hosta (FQDN) w formacie <code class="language-plaintext highlighter-rouge">nazwa.serwisu.moja.domena.org</code>.
Jeżeli adres IP jest stały, to wystarczy wykupić dla niego domenę.
Dla adresów zmiennych konieczne jest skorzystanie z usługi dynamicznego DNS.
Idea działania takiej usługi polega na tym, że host o zmiennym adresie IP otrzymuje identyfikator unikalny w ramach dynamicznego serwisu DNS i co pewien czas “melduje” swój adres IP.
Usługa dynamicznego DNS rozpowszechnia tę informację, komunikując się z innymi serwisami DNS, które aktualizują swoją konfigurację.
Oczywiście, dla stałych adresów IP skorzystanie z usługi dynamicznego DNS do uzyskania nazwy domenowej jest również możliwe.
Darmowe usługi dynamicznego DNS pozwalają zazwyczaj tylko na określenie nazwy hosta, a  domenowa część nazwy jest zadana przez dostawcę serwisu.</p>

<p>Zaproponowana konfiguracja hosta realizującego serwis pozwala na prowadzenie wielu serwisów WWW na tym samym adresie IP, jednak o różnych nazwach domenowych.
Oczywiście nic nie stoi na przeszkodzie, aby do tego samego numeru IP przypisać wiele nazw domenowych.
Dalej do skojarzenia adresu IP z nazwą domenową wykorzystany darmowy serwis <code class="language-plaintext highlighter-rouge">https://duckdns.org</code>.
W serwisie należy założyć konto.
W ramach każdego konta można nieodpłatnie założyć kilka domen (wraz z subdomenami).
Każdy użytkownik serwisu ma przypisany unikalny token, który jest wykorzystywany do aktualizacji zmiennego adresu IP.</p>

<p>Na hoście, który ma utrzymywać serwis www konieczna jest instalacja <a href="https://docs.docker.com/engine/install/">serwera Dockera</a>.
Użytkownik zdalnego hosta powinien być dodany do grupy <code class="language-plaintext highlighter-rouge">docker</code>, co uwolnia od konieczności pracy z Dockerem na prawach administratora.</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="nb">sudo </span>usermod <span class="nt">-aG</span> docker <span class="k">${</span><span class="nv">USER</span><span class="k">}</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Aby powyższa zmiana odniosła skutek, należy się wylogować i zalogować lub w otwartych sesjach wydać komendę</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>newgrp docker
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>W zdalnym zarządzaniu kontenerami dobrze spisuje się <a href="https://www.portainer.io/"><code class="language-plaintext highlighter-rouge">Portainer</code></a>.
Uboższa jego wersja jest <a href="https://docs.portainer.io/start/install-ce/server/docker">dostępna nieodpłatnie</a>.
Instalacja sprowadza się do dwóch komend</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="rouge-code"><pre>docker volume create portainer_data
docker run <span class="nt">-d</span> <span class="nt">-p</span> 8000:8000 <span class="nt">-p</span> 9000:9000 <span class="nt">--name</span> portainer <span class="nt">--restart</span><span class="o">=</span>always <span class="nt">-v</span> /var/run/docker.sock:/var/run/docker.sock <span class="nt">-v</span> portainer_data:/data portainer/portainer-ce:latest
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Od teraz zainstalowanymi obrazami i kontenerami można zarządzać łącząc się przeglądarką przy użyciu protokołu <code class="language-plaintext highlighter-rouge">HTTP</code> z portem <code class="language-plaintext highlighter-rouge">9000</code> hosta z Portainerem.</p>

<p>Instalacja własnego serwisu WWW jest bardzo prosta.
Do katalogu <code class="language-plaintext highlighter-rouge">services</code> hosta</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="rouge-code"><pre><span class="nb">mkdir</span> <span class="nt">-p</span> /home/your_host_account/services/
<span class="nb">cd</span> /home/your_host_account/services/
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>wgrywamy plik <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> o następującej treści</p>

<div class="language-yaml highlighter-rouge">
<div class="code-header">
        <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
</pre></td>
<td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">3"</span>
<span class="na">networks</span><span class="pi">:</span>
  <span class="na">frontend</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">dmz</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="na">duckdns</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">lscr.io/linuxserver/duckdns:latest</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">dmz-duckdns</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">PUID=1000</span> <span class="c1">#optional</span>
      <span class="pi">-</span> <span class="s">PGID=1000</span> <span class="c1">#optional</span>
      <span class="pi">-</span> <span class="s">TZ=Europe/Warsaw</span>
      <span class="pi">-</span> <span class="s">SUBDOMAINS=misiek,kociak</span>
      <span class="pi">-</span> <span class="s">TOKEN=xxxxxxxx-yyyy-zzzz-aaaa-bbbbbbbbbbbb</span>
      <span class="pi">-</span> <span class="s">LOG_FILE=true</span> <span class="c1">#optional</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/home/your_host_account/services/duckdns:/config</span> <span class="c1">#optional</span>
    <span class="na">networks</span><span class="pi">:</span>
     <span class="pi">-</span> <span class="s">frontend</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>

  <span class="na">nginxproxy</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s1">'</span><span class="s">jc21/nginx-proxy-manager:latest'</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">dmz-nginxproxy</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">8888:80'</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">81:81'</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">4443:443'</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/home/your_host_account/services/npm/data:/data</span>
      <span class="pi">-</span> <span class="s">/home/your_host_account/services/npm/letsencrypt:/etc/letsencrypt</span>
    <span class="na">networks</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">frontend</span>

  <span class="na">www0</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">lscr.io/linuxserver/nginx:latest</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">dmz-www0</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">PUID=1000</span>
      <span class="pi">-</span> <span class="s">PGID=1000</span>
      <span class="pi">-</span> <span class="s">TZ=Europe/London</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/home/your_host_account/services/www0:/config</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
    <span class="na">networks</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">frontend</span>

  <span class="na">www1</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">lscr.io/linuxserver/nginx:latest</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">dmz-www1</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">PUID=1000</span>
      <span class="pi">-</span> <span class="s">PGID=1000</span>
      <span class="pi">-</span> <span class="s">TZ=Europe/London</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/home/your_host_account/services/www1:/config</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
    <span class="na">networks</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">frontend</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Następnie należy utworzyć puste katalogi, w których będą przechowywane dane z kontenerów</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="nb">mkdir</span> <span class="nt">-p</span> <span class="o">{</span>duckdns,npm/data,npm/letsencrypt,www0,www1<span class="o">}</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Ostateczne uruchomienie stosu usług realizuje komenda</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>docker compose up <span class="nt">-d</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>wydana w katalogu z plikiem <code class="language-plaintext highlighter-rouge">docker-compose.yml</code>.</p>

<p>Kontener <code class="language-plaintext highlighter-rouge">duckdns</code> odpowiada za aktualizację adresu IP serwisu w usłudze dynamicznego DNS.
Kontener <code class="language-plaintext highlighter-rouge">nginx-proxy-manager</code> realizuje <code class="language-plaintext highlighter-rouge">reverse-proxy</code>, za którym schowane są serwisy <code class="language-plaintext highlighter-rouge">www0</code> i <code class="language-plaintext highlighter-rouge">www1</code>.
Kontener ten również troszczy się o utrzymanie aktualnego certyfikatu dla domen skonfigurowanych w ramach proxy.
Zarządzanie proxy (i domenami) realizuje się za pomocą interfejsu WWW dostępnego na porcie <code class="language-plaintext highlighter-rouge">81</code>.
Interfejsy <code class="language-plaintext highlighter-rouge">http</code> i <code class="language-plaintext highlighter-rouge">https</code> zarządzanych usług dostępne są odpowiednio na portach <code class="language-plaintext highlighter-rouge">8888</code> i <code class="language-plaintext highlighter-rouge">4443</code> dlatego na routerze realizującym NAT należy uaktywnić <code class="language-plaintext highlighter-rouge">Port Forwarding</code> i zrealizować przypisanie “80-&gt;ip_host:8888”, “443-&gt;ip_host:4443”.
W ten sposób ruch docierający do routera i skojarzony z protokołami <code class="language-plaintext highlighter-rouge">http</code> i <code class="language-plaintext highlighter-rouge">https</code> zostanie przekierowany do usługi <code class="language-plaintext highlighter-rouge">proxy</code>, a ta, na podstawie nazwy domenowej, podejmie decyzję do którego serwisu WWW ruch powinien być skierowany.
Wspomniane przekierowanie portów w routerze musi być wykonane <strong>przed</strong> konfiguracją proxy, bowiem są one wykorzystywane do komunikacji z serwisem <code class="language-plaintext highlighter-rouge">LetsEncrypt</code> w celu uzyskania certyfikatów SSL.</p>

<p>Konfiguracja <code class="language-plaintext highlighter-rouge">Nginx Proxy Manager</code> jest stosunkowo prosta.
Pierwsze łączenie z interfejsem administracyjnym (port 81) wymaga zmiany hasła i nazwy użytkownika (domyślnymi wartościami są <code class="language-plaintext highlighter-rouge">admin</code> i <code class="language-plaintext highlighter-rouge">changeme</code>).
Konfigurację rozpoczynamy od uzyskania certyfikatów dla skonfigurowanych domen (<code class="language-plaintext highlighter-rouge">Dashboard-&gt;SSL Certificates</code>).
Następnie dodajemy <code class="language-plaintext highlighter-rouge">Proxy Hosts</code>. Jako nazwę <code class="language-plaintext highlighter-rouge">Forward Hostname</code> należy podać nazwę kontenera,czyli w rozważanym przypadku <code class="language-plaintext highlighter-rouge">dmz-www0</code> lub <code class="language-plaintext highlighter-rouge">dmz-www1</code>.</p>

<p>Środowisko do prezentacji zawartości serwisu jest już przygotowane.
Należy jedynie pamiętać, aby w konfiguracji <code class="language-plaintext highlighter-rouge">Hugo</code> (<code class="language-plaintext highlighter-rouge">config.toml</code>) również ustawić nazwę skonfigurowaną w <code class="language-plaintext highlighter-rouge">DuckDNS</code>.
Serwis generuje się jak zwykle, zatrzymując serwer i wydając w katalogu projektu komendę</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="rouge-code"><pre>hugo

</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Wystarczy teraz przesłać zawartość katalogu <code class="language-plaintext highlighter-rouge">public/</code> do katalogu głównego serwera WWW tj.</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>scp <span class="nt">-r</span> public/<span class="k">*</span> user@ip_host_lan:/home/your_host_account/services/www1/www/
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>i serwis jest opublikowany.</p>

<h2 id="podsumowanie">
<span class="me-2">Podsumowanie</span><a href="#podsumowanie" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h2>

<p>Przedstawione scenariusze wykorzystania <code class="language-plaintext highlighter-rouge">Code</code> do pracy nad serwisem WWW nie wyczerpują wszystkich możliwości.
Bezpośrednia praca nad plikami zapisanymi w zdalnym repozytorium <code class="language-plaintext highlighter-rouge">GitHub</code> jest możliwa tylko przy użyciu przeglądarki.
Interfejs imitujący <code class="language-plaintext highlighter-rouge">Code</code> i zapewniający nieco zubożoną funkcjonalność jest dostepny pod adresem <a href="https://vscode.dev">https://vscode.dev</a>.
Jedną z takich brakujących funkcjonalności jest praca we własnym kontenerze.
Jednak nie oznacza to, że jest to niemożliwe.
Wystarczy sobie uświadomić, że kontenery <code class="language-plaintext highlighter-rouge">Docker</code>‘a traktowane są jak zdalne maszyny.
W ramach usługi <code class="language-plaintext highlighter-rouge">GitHub</code> można do tego wykorzystać funkcję <code class="language-plaintext highlighter-rouge">Codespaces</code> dostępną w głównym menu użytkownika.
Usługa to pozwala na utworzenie w chmurze wirtualnych maszyn na których uruchomione jest to samo oprogramowanie które umożliwiają komunikację z kontenerem.
Jako interfejs użytkownika jest wykorzystywany <a href="https://vscode.dev">https://vscode.dev</a>, co oznacza, że do pracy z taką zdalną maszyną wystarczy przeglądarka.
Należy jednak pamiętać, że <code class="language-plaintext highlighter-rouge">Codespaces</code> nie są całkowicie bezpłatne.
Istnieją limity zasobów, które można w zadanym okresie czasu wykorzystać za darmo.
Potrzeby powyżej limitów określonych przez dostawcę usługi wymagają wniesienia opłat.</p>

</div>

<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  
  <div class="post-meta mb-3">
    <i class="far fa-folder-open fa-fw me-1"></i>
    
      <a href="/categories/programowanie/">Programowanie</a>
  </div>
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw me-1"></i>
      
      <a href="/tags/code/" class="post-tag no-text-decoration">Code</a>
      
      <a href="/tags/devcontainer/" class="post-tag no-text-decoration">DevContainer</a>
      
      <a href="/tags/hugo/" class="post-tag no-text-decoration">Hugo</a>
      
      <a href="/tags/github-actions/" class="post-tag no-text-decoration">Github Actions</a>
      
  </div>
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">

      

        

        Jeżeli nie zaznaczono inaczej materiały ob jęte są licencją 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
        .

      
    </div>

    <!-- Post sharing snippet -->

<div class="share-wrapper">
  <span class="share-label text-muted me-1">Podziel się</span>
  <span class="share-icons">
    
    
    

    
      
      <a href="https://twitter.com/intent/tweet?text=Jak%20za%C5%82o%C5%BCy%C4%87%20i%20utrzymywa%C4%87%20statyczny%20serwis%20WWW%20wykorzystuj%C4%85c%20Docker'a,%20Code%20i%20Hugo%20-%20Net%20i%20Dev%20Blog&amp;url=https%3A%2F%2Fmikroprofesor.duckdns.org%2Fposts%2Fstatic-site-in-hugo%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
        <i class="fa-fw fab fa-twitter"></i>
      </a>
    
      
      <a href="https://www.facebook.com/sharer/sharer.php?title=Jak%20za%C5%82o%C5%BCy%C4%87%20i%20utrzymywa%C4%87%20statyczny%20serwis%20WWW%20wykorzystuj%C4%85c%20Docker'a,%20Code%20i%20Hugo%20-%20Net%20i%20Dev%20Blog&amp;u=https%3A%2F%2Fmikroprofesor.duckdns.org%2Fposts%2Fstatic-site-in-hugo%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    
      
      <a href="https://t.me/share/url?url=https%3A%2F%2Fmikroprofesor.duckdns.org%2Fposts%2Fstatic-site-in-hugo%2F&text=Jak%20za%C5%82o%C5%BCy%C4%87%20i%20utrzymywa%C4%87%20statyczny%20serwis%20WWW%20wykorzystuj%C4%85c%20Docker'a,%20Code%20i%20Hugo%20-%20Net%20i%20Dev%20Blog" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Link" data-title-succeed="Link skopiowano!">
      <i class="fa-fw fas fa-link pe-none"></i>
    </button>
  </span>
</div>


  </div>
<!-- .post-tail-bottom -->

</div>
<!-- div.post-tail-wrapper -->


      
    
      
    </div>
  </div>
  <!-- #core-wrapper -->

  <!-- panel -->
  <div id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
    <div class="access">
      <!-- Get the last 5 posts from lastmod list. -->















      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Popularne znaczniki</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c-c/">C/C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/code/">Code</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/devcontainers/">DevContainers</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/docker/">Docker</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sbc/">SBC</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/devcontainer/">DevContainer</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/esp-prog/">ESP-Prog</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/esp32/">ESP32</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/github-actions/">Github Actions</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/hugo/">Hugo</a>
      
    </div>
  </div>


    </div>

    
      
      



  <div id="toc-wrapper" class="ps-0 pe-4 mb-5">
    <div class="panel-heading ps-3 pt-2 mb-2">Spis treści</div>
    <nav id="toc"></nav>
  </div>


    
  </div>
</div>

<!-- tail -->

  <div class="row">
    <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5">
      
        
        <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  
    
  

  

  

  

  

  











  <div id="related-posts" class="mb-2 mb-sm-4">
    <h3 class="pt-2 mb-4 ms-1" data-toc-skip>
      Więcej
    </h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <div class="col">
          <a href="/posts/how-to-debug-esp32-with-esp-prog/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="small" data-ts="1691846000" data-df="ll">
  Aug 12, 2023
</em>

              <h4 class="pt-0 my-2" data-toc-skip>Jak uruchamiać programy dla ESP32 korzystając z ESP-Prog</h4>
              <div class="text-muted small">
                <p>
                  





                  


ESP-Prog jest programatorem i debuggerem do platformy ESP32.
Niniejszy dokument opisuje jak korzystać z tego urządzenia w systemie Linux z zainstalowanym edytorem Code wyposażonym w rozszerzenie...
                </p>
              </div>
            </div>
          </a>
        </div>
      
    </div>
    <!-- .card-deck -->
  </div>
  <!-- #related-posts -->


      
        
        <!-- Navigation buttons at the bottom of the post. -->

<div class="post-navigation d-flex justify-content-between">
  
    <div class="btn btn-outline-primary disabled" prompt="Starsze">
      <p>-</p>
    </div>
  

  
    <a href="/posts/C-Cpp-development-for-SBC-in-Code/" class="btn btn-outline-primary" prompt="Nowsze">
      <p>Jak kompilować i debugować aplikacje w C/C++ na komputery jednopłytkowe korzystając z VS Code</p>
    </a>
  
</div>

      
        
        <!--  The comments switcher -->


      
    </div>
  </div>


        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 post-content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Popularne znaczniki</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c-c/">C/C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/code/">Code</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/devcontainers/">DevContainers</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/docker/">Docker</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sbc/">SBC</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/devcontainer/">DevContainer</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/esp-prog/">ESP-Prog</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/esp32/">ESP32</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/github-actions/">Github Actions</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/hugo/">Hugo</a>
      
    </div>
  </div>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>
    </div>

    <!-- The Footer -->

<footer>
  <div class="container px-lg-4">
    <div class="d-flex justify-content-center align-items-center text-muted mx-md-3">
      <p>Do realizacji wykorzystano <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> i styl <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
      </p>

      <p>©
        2023
        <a href="https://github.com/username">PeJotZet</a>.
        
          <span data-bs-toggle="tooltip" data-bs-placement="top" title="Z opublikowanymi materiałami można robić co się chce. Można nawet sprzedawać na serwisach aukcyjnych.">Korzystaj póki możesz.</span>
        
      </p>
    </div>
  </div>
</footer>


    <div id="mask"></div>

    <button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow">
      <i class="fas fa-angle-up"></i>
    </button>

    
      <div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false">
        <div class="toast-header">
          <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body text-center pt-0">
          <p class="px-2 mb-3">Opublikowano nowe treści.</p>
          <button type="button" class="btn btn-primary" aria-label="Update">
            Aktualizacja
          </button>
        </div>
      </div>
    

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/pl.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>
