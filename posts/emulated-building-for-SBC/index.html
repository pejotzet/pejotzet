<!DOCTYPE html>
<!-- `site.alt_lang` can specify a language different from the UI --><html lang="pl">
  <!-- The Head -->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover">

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2">
<meta property="og:title" content="Budowanie aplikacji dla SBC w środowisku emulowanym">
<meta name="author" content="Piotr Zawadzki">
<meta property="og:locale" content="pl">
<meta name="description" content="Komputery jednopłytkowe (ang. SBC — Single Board Computer) to uniwersalne urządzenia mikroprocesorowe pracujące pod kontrolą systemu operacyjnego. Zazwyczaj systemem tym jest Linux. Architektury komputerów jednopłytkowych mogą istotnie się różnić od architektur stosowanych dla komputerów osobistych. Niestety natywne uruchamianie kodu z wykorzystaniem GUI pracującego na systemie target jest często niewykonalne, głównie ze względu na ograniczony interfejs użytkownika i niezbyt duże zasoby urządzenia. Zazwyczaj problem ten rozwiązuje się przy użyciu narzędzi do kompilacji skrośnej.">
<meta property="og:description" content="Komputery jednopłytkowe (ang. SBC — Single Board Computer) to uniwersalne urządzenia mikroprocesorowe pracujące pod kontrolą systemu operacyjnego. Zazwyczaj systemem tym jest Linux. Architektury komputerów jednopłytkowych mogą istotnie się różnić od architektur stosowanych dla komputerów osobistych. Niestety natywne uruchamianie kodu z wykorzystaniem GUI pracującego na systemie target jest często niewykonalne, głównie ze względu na ograniczony interfejs użytkownika i niezbyt duże zasoby urządzenia. Zazwyczaj problem ten rozwiązuje się przy użyciu narzędzi do kompilacji skrośnej.">
<link rel="canonical" href="https://pejotzet.github.io/pejotzet/posts/emulated-building-for-SBC/">
<meta property="og:url" content="https://pejotzet.github.io/pejotzet/posts/emulated-building-for-SBC/">
<meta property="og:site_name" content="Net i Dev Blog">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-08-13T09:58:41+02:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Budowanie aplikacji dla SBC w środowisku emulowanym">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Piotr Zawadzki"},"dateModified":"2023-08-13T09:58:41+02:00","datePublished":"2023-08-13T09:58:41+02:00","description":"Komputery jednopłytkowe (ang. SBC — Single Board Computer) to uniwersalne urządzenia mikroprocesorowe pracujące pod kontrolą systemu operacyjnego. Zazwyczaj systemem tym jest Linux. Architektury komputerów jednopłytkowych mogą istotnie się różnić od architektur stosowanych dla komputerów osobistych. Niestety natywne uruchamianie kodu z wykorzystaniem GUI pracującego na systemie target jest często niewykonalne, głównie ze względu na ograniczony interfejs użytkownika i niezbyt duże zasoby urządzenia. Zazwyczaj problem ten rozwiązuje się przy użyciu narzędzi do kompilacji skrośnej.","headline":"Budowanie aplikacji dla SBC w środowisku emulowanym","mainEntityOfPage":{"@type":"WebPage","@id":"https://pejotzet.github.io/pejotzet/posts/emulated-building-for-SBC/"},"url":"https://pejotzet.github.io/pejotzet/posts/emulated-building-for-SBC/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>Budowanie aplikacji dla SBC w środowisku emulowanym | Net i Dev Blog
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/pejotzet/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/pejotzet/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/pejotzet/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/pejotzet/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/pejotzet/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Net i Dev Blog">
<meta name="application-name" content="Net i Dev Blog">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/pejotzet/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net">
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&amp;display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">

  <link rel="stylesheet" href="/pejotzet/assets/css/style.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper">
    <a href="/pejotzet/" id="avatar" class="rounded-circle">
      
        
        <img src="/pejotzet/assets/img/myavatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
      
    </a>

    <div class="site-title">
      <a href="/pejotzet/">Net i Dev Blog</a>
    </div>
    <div class="site-subtitle fst-italic">Spisano ku pamięci i na pożytek</div>
  </div>
  <!-- .profile-wrapper -->

  <ul class="nav flex-column flex-grow-1 w-100 ps-0">
    <!-- home -->
    <li class="nav-item">
      <a href="/pejotzet/" class="nav-link">
        <i class="fa-fw fas fa-home"></i>
        <span>STRONA GŁÓWNA</span>
      </a>
    </li>
    <!-- the real tabs -->
    
      <li class="nav-item">
        <a href="/pejotzet/categories/" class="nav-link">
          <i class="fa-fw fas fa-stream"></i>
          

          <span>KATEGORIE</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/pejotzet/tags/" class="nav-link">
          <i class="fa-fw fas fa-tags"></i>
          

          <span>ZNACZNIKI</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/pejotzet/archives/" class="nav-link">
          <i class="fa-fw fas fa-archive"></i>
          

          <span>ARCHIWUM</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/pejotzet/about/" class="nav-link">
          <i class="fa-fw fas fa-info-circle"></i>
          

          <span>O STRONIE</span>
        </a>
      </li>
      <!-- .nav-item -->
    
  </ul>
  <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a href="https://github.com/pejotzet" aria-label="github" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-twitter"></i>
        </a>
      
    
      

      
        <a href="javascript:location.href%20=%20'mailto:'%20+%20['Zawadzki.Piotrus','gmail.com'].join('@')" aria-label="email">
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a href="/pejotzet/feed.xml" aria-label="rss">
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</div>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div id="main" class="container px-xxl-5">
        <!-- The Top Bar -->

<div id="topbar-wrapper">
  <div id="topbar" class="container d-flex align-items-center justify-content-between h-100">
    <span id="breadcrumb">
      

      
        
          
            <span>
              <a href="/pejotzet/">
                Strona główna
              </a>
            </span>

          
        
          
        
          
            
              <span>Budowanie aplikacji dla SBC w środowisku emulowanym</span>
            

          
        
      
    </span>
    <!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search...">
    </span>
    <span id="search-cancel">Cancel</span>
  </div>
</div>

        











<div class="row">
  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4">
    

    <div class="post px-1 px-md-2">
      

      
        
      
        <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->


<!-- images -->




<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  

  
  

  




<!-- return -->




<h1 data-toc-skip>Budowanie aplikacji dla SBC w środowisku emulowanym</h1>

<div class="post-meta text-muted">
    <!-- published date -->
    <span>
      Opublikowano
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="" data-ts="1691913521" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom">
  Aug 13, 2023
</em>

    </span>

    <!-- lastmod date -->
    

  

  <div class="d-flex justify-content-between">
    <!-- author(s) -->
    <span>
      

      

      <em>
      
        
          <a href=""></a>
          
        
      
      </em>
    </span>

    <div>
      <!-- read time -->
      <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1462 słów">
  <em>8 min</em> czytania</span>

    </div>

  </div> <!-- .d-flex -->

</div> <!-- .post-meta -->

<div class="post-content">
  <p>Komputery jednopłytkowe (ang. SBC — <em>Single Board Computer</em>) to uniwersalne urządzenia mikroprocesorowe pracujące pod kontrolą systemu operacyjnego.
Zazwyczaj systemem tym jest Linux.
Architektury komputerów jednopłytkowych mogą istotnie się różnić od architektur stosowanych dla komputerów osobistych.
Niestety natywne uruchamianie kodu z wykorzystaniem GUI pracującego na systemie <em>target</em> jest często niewykonalne, głównie ze względu na ograniczony interfejs użytkownika i niezbyt duże zasoby urządzenia.
Zazwyczaj problem ten rozwiązuje się przy użyciu narzędzi do kompilacji skrośnej.</p>

<p>W niniejszym opracowaniu przedstawiono podejście alternatywne bazujące na wykorzystaniu emulacji architektury urządzenia docelowego z wykorzystaniem <code class="language-plaintext highlighter-rouge">QEMU</code> i połączonej z hermetyzacją środowiska developerskiego w kontenerze Docker’a.
Dzięki tej technice możliwe jest wygenerowanie kodu binarnego dla urządzenia docelowego bez korzystania z technik kompilacji skrośnej.
Jako frontend dewelopera zaproponowano wykorzystanie programu <code class="language-plaintext highlighter-rouge">VS Code</code> oraz techniki <code class="language-plaintext highlighter-rouge">DevContainers</code>.</p>

<p>Stworzenie środowiska pracy skrośnej jest zadaniem żmudnym, zwłaszcza jeżeli w systemie muszą współegzystować środowiska przeznaczone dla różnych urządzeń docelowych. 
Oczywiście ideałem byłoby środowisko pracy natywnej na urządzeniu <em>target</em>, jednak opcja ta jest często niemożliwa do realizacji praktycznej ze względu na jego ograniczone zasoby.
Okazuje się, że konteneryzacja w połączeniu z emulacją architektury pozwala na stworzenia środowiska budowy aplikacji bardzo zbliżonego tego ideału.
Przedstawiona dalej konfiguracja bardzo przypomina
<a href="../../post/2023-08-12-c-cpp-development-for-sbc-in-code/#praca-zdalna-w-tunelu-ssh">pracę zdalną w tunelu SSH</a> <a href="#ref1">[1]</a>,
jednak tym razem urządzenie docelowe nie jest w zaangażowane w proces budowania aplikacji.
Oczywiście jest ono niezbędne do jej debugowania.
Proces skrośnego debugowania opisano w podrozdziale “<a href="../../post/2023-08-12-c-cpp-development-for-sbc-in-code/#uruchamianie-skro%C5%9Bne">Uruchamianie skrośne</a>” wspomnianego wcześniej opracowania <a href="#ref1">[1]</a>.</p>

<p>Realizacja przedstawionego dalej scenariusza wymaga zainstalowania na systemie <em>host</em> <code class="language-plaintext highlighter-rouge">Docker</code>‘a i opcjonalnie <code class="language-plaintext highlighter-rouge">QEMU</code>.
Pozostałe oprogramowanie zostanie umieszczone w kontenerach i może być łatwo usunięte z systemu jednym poleceniem.</p>

<ul>
  <li>
    <p><a href="https://www.qemu.org/"><code class="language-plaintext highlighter-rouge">QEMU</code></a>
to dostępne nieodpłatnie środowisko wirtualizacji systemów oraz dynamicznej emulacji architektur. Pierwsza opcja zapewnia możliwość uruchomienia pełnego systemu operacyjnego na wirtualnym urządzeniu. Innymi słowy, wirtualizator zapewnia abstrakcyjną warstwę dostępu do sprzętu. Szczególną cechą <em>QEMU</em> jest możliwość wirtualizacji systemów dla architektur innych niż architektura systemu goszczącego (popularne hypervisory takie jak <code class="language-plaintext highlighter-rouge">VirtualBox</code>, <code class="language-plaintext highlighter-rouge">VMWare Workstation</code> czy <code class="language-plaintext highlighter-rouge">Hyper-V</code> tego nie potrafią).
Z kolei dynamiczna emulacja polega na tłumaczeniu w locie kodu binarnego z architektury systemu emulowanego na architekturę systemu goszczącego. 
Aplikacje uruchamiane w tym trybie korzystają bezpośrednio z jądra systemu goszczącego, w tym sprzętu dostępnego na tym systemie.
Z punktu widzenia użytkownika, aplikacje uruchomione w tym trybie wyglądają identycznie jak aplikacje natywne, jedynie wykonują się wolniej ze względu na niezbędną warstwę translacji.</p>
  </li>
  <li>
    <p><a href="https://www.docker.com/"><code class="language-plaintext highlighter-rouge">Docker</code></a>
to środowisko konteneryzacji zapewniające aplikacjom hermetyczne środowisko pracy (dostęp do usług jądra systemu, środowisko sieciowe, system plików), co umożliwia ich bezproblemową dystrybucję i pracę niezależnie od systemu operacyjnego gospodarza.
W połączeniu z emulacją architektur zapewnianą przez <code class="language-plaintext highlighter-rouge">QEMU</code> możliwe jest uruchamianie i budowanie kontenerów na architekturę inną niż ta, na której uruchomiony jest <code class="language-plaintext highlighter-rouge">Docker</code>.</p>
  </li>
</ul>

<p>Idea budowy aplikacji z wykorzystaniem emulacji architektury zakłada</p>

<ul>
  <li>
    <p>uruchomienie emulacji architektury systemu <em>target</em> (tego, na którym ma działać aplikacja) na systemie <em>host</em> (tego, na którym zostanie skompilowana),</p>
  </li>
  <li>
    <p>przygotowanie kontenera dla architektury <em>target</em>, który zawiera jego główny system plików uzupełniony o natywne dla <em>target</em> narzędzia budowania aplikacji (kompilator, linker, biblioteki),</p>
  </li>
  <li>
    <p>uruchomienie w emulowanym kontenerze kompilacji natywnej (czyli dla architektury <em>target</em>).</p>
  </li>
</ul>

<h2 id="aktywacja-emulacji-architektury-systemu-target">
<span class="me-2">Aktywacja emulacji architektury systemu <em>target</em></span><a href="#aktywacja-emulacji-architektury-systemu-target" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h2>

<p>W systemie <em>host</em> konieczna jest aktywacja emulacji architektury systemu <em>target</em>.
Można to osiągnąć, instalując pakiet <code class="language-plaintext highlighter-rouge">qemu-user-static</code></p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>apt <span class="nb">install</span> <span class="nt">-y</span> qemu-user-static
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Alternatywnie, można skorzystać <a href="https://hub.docker.com/r/multiarch/qemu-user-static">z gotowego kontenera</a></p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>docker run <span class="nt">--rm</span> <span class="nt">--privileged</span> multiarch/qemu-user-static:register <span class="nt">--reset</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Listę emulowanych architektur zwraca komenda</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="nb">ls</span>  /proc/sys/fs/binfmt_misc
</pre></td>
</tr></tbody></table></code></div>
</div>

<h2 id="przygotowanie-kontenera-dla-architektury-systemu-target">
<span class="me-2">Przygotowanie kontenera dla architektury systemu <em>target</em></span><a href="#przygotowanie-kontenera-dla-architektury-systemu-target" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h2>

<p>W pustym katalogu należy umieścić archiwum z głównym systemem plików urządzenia <em>target</em>.
Archiwum można utworzyć, pobierając, z zachowaniem uprawnień, pliki z karty SD zawierającej <em>firmware</em> urządzenia <em>target</em> (w poniższym przykładzie przyjęto, że po zamontowaniu w systemie <em>host</em> zawartość karty jest widoczna w katalogu ‘/media/akuku/a6a42a97-600f-4ed7-ab06-6a2a169c62f3/’).
Archiwum ‘<em>rootfs.tar</em>’ buduje komenda</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="o">(</span><span class="nb">cd</span> /media/akuku/a6a42a97-600f-4ed7-ab06-6a2a169c62f3/ <span class="p">;</span> <span class="nb">sudo tar </span>cvf - <span class="k">*</span><span class="o">)</span> | <span class="nb">cat</span> <span class="o">&gt;</span> ./rootfs.tar
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Inspekcja zawartości archiwum komendą <code class="language-plaintext highlighter-rouge">tar tf rootfs.tar | head -n 10</code> powinna wykazać wynik podobny do poniższego (brak dodatkowych elementów przed ‘<em>bin</em>’, ‘<em>boot</em>’, itd.)</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td>
<td class="rouge-code"><pre>bin
boot/
boot/boot.cmd
boot/orangepi_first_run.txt.template
boot/boot.scr
boot/orangepiEnv.txt
boot/vmlinuz-4.9.170-sun50iw9
boot/config-4.9.170-sun50iw9
boot/uInitrd
boot/boot.bmp
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Zgodnie z zasadą <code class="language-plaintext highlighter-rouge">*wszystko można, co nie można, byle z wolna i ostrożna*</code>, <a href="#pobranie-g%C5%82%C3%B3wnego-systemu-plik%C3%B3w-z-dzia%C5%82aj%C4%85cego-urz%C4%85dzenia">główny system plików można również pobrać z działającego urządzenia</a>.</p>

<p>W tym samym katalogu należy utworzyć plik <em>Dockerfile</em> o treści</p>

<div class="language-Dockerfile highlighter-rouge">
<div class="code-header">
        <span data-label-text="Dockerfile"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td>
<td class="rouge-code"><pre><span class="k">FROM</span><span class="s"> scratch</span>

<span class="k">ARG</span><span class="s"> USERNAME=orangepi</span>
<span class="k">ARG</span><span class="s"> USER_UID=1000</span>
<span class="k">ARG</span><span class="s"> USER_GID=1000</span>

<span class="k">ADD</span><span class="s"> rootfs.tar /</span>

<span class="k">USER</span><span class="s"> root</span>
<span class="k">WORKDIR</span><span class="s"> /root</span>

<span class="k">RUN </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">export </span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive <span class="se">\
</span>    <span class="o">&amp;&amp;</span> apt-get <span class="nt">-y</span> <span class="nb">install </span>build-essential make gpiod

<span class="k">ENV</span><span class="s"> HOME=/home/${USERNAME}</span>
<span class="c"># [Optional] Customize environment for nonroot user</span>
<span class="c">#RUN groupadd --gid "${USER_GID}" "${USERNAME}" &amp;&amp; \</span>
<span class="c">#    useradd --uid "${USER_UID}" --gid "${USER_GID}" --create-home "${USERNAME}" &amp;&amp; \</span>
<span class="c">#    apt-get update &amp;&amp; \</span>
<span class="c">#    apt-get -yq install sudo &amp;&amp; \</span>
<span class="c">#    echo "${USERNAME}" ALL=\(root\) NOPASSWD:ALL &gt; "/etc/sudoers.d/${USERNAME}" &amp;&amp; \</span>
<span class="c">#    chmod 0440 "/etc/sudoers.d/${USERNAME}" </span>
<span class="c">#    &amp;&amp; \</span>
<span class="c">#    usermod -aG docker "${USERNAME}"</span>

<span class="k">WORKDIR</span><span class="s"> ${HOME}</span>
<span class="k">USER</span><span class="s"> ${USERNAME}</span>

<span class="k">CMD</span><span class="s"> uname -a</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Kompilacja w kontenerze pozostawia pliki binarne w katalogu projektu.
Właścicielem tych plików jest użytkownik (określony w kontenerze, tutaj <em>orangepi</em>), w którego imieniu została wykonana kompilacja. Zatem, aby uniknąć kłopotów z dostępem do plików, należy zadbać o to, aby UID i GID użytkownika systemu <em>host</em> i użytkownika w kontenerze były takie same. Wartości te sprawdza się poleceniem <em>id</em> wydanym w terminalu. W powyższym przykładzie przyjęto, że zarówno użytkownik ‘<em>akuku</em>’ systemu <em>host</em> oraz użytkownik ‘<em>orangepi</em>’ zdefiniowany w kontenerze mają UID i GID równe 1000.</p>

<p>Przedstawiony powyżej plik definiuje sposób budowy kontenera.
Przed jej uruchomieniem należy sprawdzić, czy jest ona możliwa</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="rouge-code"><pre>docker buildx <span class="nb">ls
</span>docker buildx use default
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Jeżeli docelowa platforma jest na liście, to do zbudowania kontenera wystarczy poniższa komenda</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>docker buildx build <span class="nt">--platform</span> linux/arm64 <span class="nt">-t</span> pzawad/orangepi-emucontainer <span class="nb">.</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>wydana w katalogu zawierającym pliki ‘<em>Dockerfile</em>’ i ‘<em>rootfs.tar</em>’.
Architekturę zbudowanego kontenera, wersję systemu operacyjnego oraz dostępność kompilatora należy oczywiście sprawdzić</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="rouge-code"><pre>docker image inspect pzawad/orangepi-emucontainer | <span class="nb">grep </span>Architecture
docker run <span class="nt">-it</span> <span class="nt">--rm</span> pzawad/orangepi-emucontainer bash <span class="nt">-c</span> <span class="s1">'uname -a'</span>
docker run <span class="nt">-it</span> <span class="nt">--rm</span> pzawad/orangepi-emucontainer bash <span class="nt">-c</span> <span class="s1">'cat /etc/issue'</span>
docker run <span class="nt">-it</span> <span class="nt">--rm</span> pzawad/orangepi-emucontainer bash <span class="nt">-c</span> <span class="s1">'gcc -v'</span>
</pre></td>
</tr></tbody></table></code></div>
</div>

<h2 id="kompilacja-emulowana-z-wykorzystaniem-kontenera">
<span class="me-2">Kompilacja emulowana z wykorzystaniem kontenera</span><a href="#kompilacja-emulowana-z-wykorzystaniem-kontenera" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h2>

<p>Kontener z narzędziami dla architektury docelowej pozwala na skompilowanie na systemie <em>host</em> kodu dla systemu <em>target</em> w trybie kompilacji natywnej.
Katalog ze źródłami aplikacji jest mapowany do wnętrza kontenera, w którym wywoływany jest kompilator natywny dla platformy docelowej. Kompilator “widzi” kopię głównego systemu plików urządzenia <em>target</em>, dzięki czemu wszystkie pliki nagłówkowe i biblioteki dynamiczne są na właściwym miejscu.
Komenda realizująca kompilację ma np. postać</p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>docker run <span class="nt">-it</span> <span class="nt">--rm</span> <span class="nt">--platform</span><span class="o">=</span>linux/arm64 <span class="nt">--name</span> omgthisworks <span class="nt">-v</span> <span class="k">${</span><span class="nv">PWD</span><span class="k">}</span>:/home/orangepi pzawad/orangepi-emucontainer make
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>Integracja z <em>Visual Studio Code</em> nie nastręcza trudności.
Do pliku ‘<em>.vscode/tasks.json</em>’ wystarczy dodać zadanie postaci</p>

<div class="language-json highlighter-rouge">
<div class="code-header">
        <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td>
<td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Native Build in container"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shell"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">" docker run -it --rm --platform=linux/arm64 --name omgthisworks -v ${workspaceFolder}:/home/orangepi pzawad/orangepi-emucontainer make"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"build"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"cwd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${workspaceFolder}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"problemMatcher"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"$gcc"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This task maps workspace into container and triggers native build inside."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></div>
</div>

<h2 id="debugowanie-kodu">
<span class="me-2">Debugowanie kodu</span><a href="#debugowanie-kodu" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h2>

<p>test</p>

<h2 id="podsumowanie">
<span class="me-2">Podsumowanie</span><a href="#podsumowanie" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h2>

<p>Zaletą opisanego podejścia jest prawidłowe dynamiczne łączenie bibliotek bez żadnych dodatkowych zabiegów.
Co więcej, nie jest konieczna instalacja narzędzi do kompilacji ani na systemie <em>target</em>, ani na systemie <em>host</em>. Kontener służący do tworzenia aplikacji może być łatwo dystrybuowany pomiędzy programistami. W efekcie procedurę przygotowania kontenera zawierającego oprogramowanie niezbędne do pracy nad aplikacja wystarczy przeprowadzić tylko raz. Ma to olbrzymie znaczenie w pracy grupowej gdzie hermetyczność narzędzi i powtarzalność procedur mają ogromne znaczenie.</p>

<h2 id="bibliografia">
<span class="me-2">Bibliografia</span><a href="#bibliografia" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h2>

<p>[1<a id="ref1"></a>] <a href="/posts/C-Cpp-development-for-SBC-in-Code/">PeJotZet</a> <a href="/posts/C-Cpp-development-for-SBC-in-Code/">“Jak kompilować i debugować aplikacje w C/C++ na komputery jednopłytkowe korzystając z VS Code”</a>, 2023</p>

<h2 id="kruczki-i-sztuczki">
<span class="me-2">Kruczki i sztuczki</span><a href="#kruczki-i-sztuczki" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h2>

<h3 id="zdalny-dostęp-do-konta-administratora-bez-podawania-hasła">
<span class="me-2">Zdalny dostęp do konta administratora bez podawania hasła</span><a href="#zdalny-dost%C4%99p-do-konta-administratora-bez-podawania-has%C5%82a" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h3>

<ol>
  <li>
    <p>Zdalny dostęp do konta administratora</p>

    <p>W pliku <em>/etc/ssh/sshd_config</em>’ (<em>target</em>) należy ustawić opcję</p>

    <div class="language-plaintext highlighter-rouge">
<div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre> PermitRootLogin   yes
</pre></td>
</tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>Logowanie bez konieczności podawania hasła</p>
    <ul>
      <li>
        <p>Serwer <em>ssh</em> musi zezwalać na uwierzytelnienie za pomocą kluczy publicznych.
W pliku <em>/etc/ssh/sshd_config</em>’ (<em>target</em>) należy ustawić opcje</p>

        <div class="language-plaintext highlighter-rouge">
<div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="rouge-code"><pre>PubkeyAuthentication   yes
AuthorizedKeysFile    .ssh/authorized_keys    .ssh/authorized_keys2
</pre></td>
</tr></tbody></table></code></div>        </div>
      </li>
      <li>
        <p>Użytkownik systemu <em>host</em> musi mieć wygenerowane osobiste klucze <em>ssh</em>. Generacja komendą</p>

        <div class="language-plaintext highlighter-rouge">
<div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>ssh-keygen
</pre></td>
</tr></tbody></table></code></div>        </div>

        <p>Opcją ‘-t’ można wymusić typ klucza, a opcją ‘-b’ jego długość. Wygenerowane klucze, prywatny i publiczny, umieszczone są w podkatalogu ‘.ssh’ katalogu domowego (publiczny ma rozszerzenie ‘pub’).</p>
      </li>
      <li>
        <p>Klucz publiczny należy umieścić na systemie <em>target</em> w pliku ‘<em>.ssh/authorized_keys</em>’ na
koncie docelowym. Wygodne kopiowanie zapewnia komenda (poniżej użyto konta <em>root</em>)</p>

        <div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>ssh-copy-id root@opi.usb
</pre></td>
</tr></tbody></table></code></div>        </div>
      </li>
    </ul>
  </li>
</ol>

<h3 id="pobranie-głównego-systemu-plików-z-działającego-urządzenia">
<span class="me-2">Pobranie głównego systemu plików z działającego urządzenia</span><a href="#pobranie-g%C5%82%C3%B3wnego-systemu-plik%C3%B3w-z-dzia%C5%82aj%C4%85cego-urz%C4%85dzenia" class="anchor text-muted"><i class="fas fa-hashtag"></i></a>
</h3>

<p>Jeżeli główny system plików archiwizujemy z działającego urządzenia <em>target</em>, to przed operacją archiwizacji katalog główny należy zamontować w innym miejscu przy użyciu ‘mount –bind’ i dopiero w nim wydać komendę archiwizacji. Wynik archiwizacji najlepiej od razu pobrać na system <em>host</em></p>

<div class="language-sh highlighter-rouge">
<div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre>ssh root@opi.usb <span class="s1">'mkdir -p /tmp/rootfs &amp;&amp; mount --bind / /tmp/rootfs &amp;&amp; cd /tmp/rootfs/ &amp;&amp; tar cf - *'</span> <span class="o">&gt;</span> rootfs.tar
</pre></td>
</tr></tbody></table></code></div>
</div>

<p>W powyższej komendzie <em>opi.usb</em> to nazwa sieciowa urządzenia <em>target</em> i może być zastąpiona przez jego numer IP.</p>

</div>

<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw me-1"></i>
      
      <a href="/pejotzet/tags/c-c/" class="post-tag no-text-decoration">C/C++</a>
      
      <a href="/pejotzet/tags/sbc/" class="post-tag no-text-decoration">SBC</a>
      
      <a href="/pejotzet/tags/docker/" class="post-tag no-text-decoration">Docker</a>
      
      <a href="/pejotzet/tags/devcontainers/" class="post-tag no-text-decoration">DevContainers</a>
      
      <a href="/pejotzet/tags/qemu/" class="post-tag no-text-decoration">QEMU</a>
      
  </div>
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">

      

        

        Jeżeli nie zaznaczono inaczej materiały ob jęte są licencją 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
        .

      
    </div>

    <!-- Post sharing snippet -->

<div class="share-wrapper">
  <span class="share-label text-muted me-1">Podziel się</span>
  <span class="share-icons">
    
    
    

    
      
      <a href="https://twitter.com/intent/tweet?text=Budowanie%20aplikacji%20dla%20SBC%20w%20%C5%9Brodowisku%20emulowanym%20-%20Net%20i%20Dev%20Blog&url=https%3A%2F%2Fpejotzet.github.io%2Fpejotzet%2Fposts%2Femulated-building-for-SBC%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
        <i class="fa-fw fab fa-twitter"></i>
      </a>
    
      
      <a href="https://www.facebook.com/sharer/sharer.php?title=Budowanie%20aplikacji%20dla%20SBC%20w%20%C5%9Brodowisku%20emulowanym%20-%20Net%20i%20Dev%20Blog&u=https%3A%2F%2Fpejotzet.github.io%2Fpejotzet%2Fposts%2Femulated-building-for-SBC%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    
      
      <a href="https://t.me/share/url?url=https%3A%2F%2Fpejotzet.github.io%2Fpejotzet%2Fposts%2Femulated-building-for-SBC%2F&text=Budowanie%20aplikacji%20dla%20SBC%20w%20%C5%9Brodowisku%20emulowanym%20-%20Net%20i%20Dev%20Blog" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Link" data-title-succeed="Link skopiowano!">
      <i class="fa-fw fas fa-link pe-none"></i>
    </button>
  </span>
</div>


  </div>
<!-- .post-tail-bottom -->

</div>
<!-- div.post-tail-wrapper -->


      
    
      
    </div>
  </div>
  <!-- #core-wrapper -->

  <!-- panel -->
  <div id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
    <div class="access">
      <!-- Get the last 5 posts from lastmod list. -->















      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Popularne znaczniki</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/c-c/">C/C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/code/">Code</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/devcontainers/">DevContainers</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/docker/">Docker</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/sbc/">SBC</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/devcontainer/">DevContainer</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/esp-prog/">ESP-Prog</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/esp32/">ESP32</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/github-actions/">Github Actions</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/hugo/">Hugo</a>
      
    </div>
  </div>


    </div>

    
      
      



  <div id="toc-wrapper" class="ps-0 pe-4 mb-5">
    <div class="panel-heading ps-3 pt-2 mb-2">Spis treści</div>
    <nav id="toc"></nav>
  </div>


    
  </div>
</div>

<!-- tail -->

  <div class="row">
    <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5">
      
        
        <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  
    
  

  

  

  

  

  











  <div id="related-posts" class="mb-2 mb-sm-4">
    <h3 class="pt-2 mb-4 ms-1" data-toc-skip>
      Więcej
    </h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <div class="col">
          <a href="/pejotzet/posts/C-Cpp-development-for-SBC-in-Code/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="small" data-ts="1691846000" data-df="ll">
  Aug 12, 2023
</em>

              <h4 class="pt-0 my-2" data-toc-skip>Jak kompilować i debugować aplikacje w C/C++ na komputery jednopłytkowe korzystając z VS Code</h4>
              <div class="text-muted small">
                <p>
                  





                  Komputery jednopłytkowe (ang. SBC — Single Board Computer) to uniwersalne urządzenia mikroprocesorowe pracujące pod kontrolą systemu operacyjnego.
Zazwyczaj systemem tym jest Linux.
Architektury ko...
                </p>
              </div>
            </div>
          </a>
        </div>
      
    </div>
    <!-- .card-deck -->
  </div>
  <!-- #related-posts -->


      
        
        <!-- Navigation buttons at the bottom of the post. -->

<div class="post-navigation d-flex justify-content-between">
  
    <a href="/pejotzet/posts/how-to-debug-esp32-with-esp-prog/" class="btn btn-outline-primary" prompt="Starsze">
      <p>Jak uruchamiać programy dla ESP32 korzystając z ESP-Prog</p>
    </a>
  

  
    <div class="btn btn-outline-primary disabled" prompt="Nowsze">
      <p>-</p>
    </div>
  
</div>

      
        
        <!--  The comments switcher -->


      
    </div>
  </div>


        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 post-content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Popularne znaczniki</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/c-c/">C/C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/code/">Code</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/devcontainers/">DevContainers</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/docker/">Docker</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/sbc/">SBC</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/devcontainer/">DevContainer</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/esp-prog/">ESP-Prog</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/esp32/">ESP32</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/github-actions/">Github Actions</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/pejotzet/tags/hugo/">Hugo</a>
      
    </div>
  </div>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>
    </div>

    <!-- The Footer -->

<footer>
  <div class="container px-lg-4">
    <div class="d-flex justify-content-center align-items-center text-muted mx-md-3">
      <p>Do realizacji wykorzystano <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> i styl <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
      </p>

      <p>©
        2023
        <a href="https://github.com/username">PeJotZet</a>.
        
          <span data-bs-toggle="tooltip" data-bs-placement="top" title="Z opublikowanymi materiałami można robić co się chce. Można nawet sprzedawać na serwisach aukcyjnych.">Korzystaj póki możesz.</span>
        
      </p>
    </div>
  </div>
</footer>


    <div id="mask"></div>

    <button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow">
      <i class="fas fa-angle-up"></i>
    </button>

    
      <div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false">
        <div class="toast-header">
          <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body text-center pt-0">
          <p class="px-2 mb-3">Opublikowano nowe treści.</p>
          <button type="button" class="btn btn-primary" aria-label="Update">
            Aktualizacja
          </button>
        </div>
      </div>
    

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/pl.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script>






<script defer src="/pejotzet/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/pejotzet/assets/js/data/search.json',
    searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>
